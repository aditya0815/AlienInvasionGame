(function(a,d){function b(b){var c=b.type;b=a(b.target);var e=b.data("stage");if(void 0!==e&&phx.stage[e.id])phx.stage[e.id](e,b,c)}function c(b){var e=a("#mail-head"),d=e.height();0<d||!b?(b=d+parseInt(e.parent().css("padding-top"),10),a(".mail-body").css("top")!==b&&(a(".mail-body").css("top",b),a(".widget-mail-compose-body").show())):setTimeout(function(){c(!0)},20)}function e(b){c(b);"none"===a("#mail-instant-reply").css("display")?a(".panel-mail-display-table-mail-horizontal .is-mail-quick-replyable.mail-display-wrapper,#panel-mail-display .is-mail-quick-replyable.mail-display-wrapper").removeClass("is-mail-quick-replyable"):
a(".panel-mail-display-table-mail-horizontal .mail-display-wrapper,#panel-mail-display .mail-display-wrapper").addClass("is-mail-quick-replyable")}function f(){var b=a("html"),c=a(".editor_header").outerHeight();250<c?(b.addClass("is-bigger-mail-head"),b.removeClass("is-big-mail-head")):210<c?(b.addClass("is-big-mail-head"),b.removeClass("is-bigger-mail-head")):b.removeClass("is-big-mail-head is-bigger-mail-head")}function g(){50<a(".menubar").outerHeight()?a("#panel-mail-table").addClass("is-toolbar-two-line"):
a("#panel-mail-table").removeClass("is-toolbar-two-line")}phx.event.subscribe(phx.events.DOM_NODE_ADDED,b);phx.event.subscribe(phx.events.DOM_NODE_REMOVING,b);phx.stage={"navigation-drafts":function(a,b,c){c===phx.events.DOM_NODE_REMOVING?b.parent().removeClass(a.id+"-"+a.val):b.parent().addClass(a.id+"-"+a.val)},"mail-display-attachment-delete":function(a,b,e){c()}};phx.event.subscribe(phx.events.COLLAPSED_QUICK_REPLY,function(){a(".mail-display-wrapper").removeClass("is-quick-reply-expanded")});
phx.event.subscribe(phx.events.EXPANDED_QUICK_REPLY,function(){a(".mail-display-wrapper").addClass("is-quick-reply-expanded")});phx.event.subscribe(phx.events.MAIL_SHOWN,function(){e(!0)});phx.event.subscribe(phx.events.SPAM_PROTECTION_REMOVED,function(){e(!0)});phx.event.subscribe(phx.events.LAST_ATTACHMENT_REMOVED,function(){e(!0)});phx.event.subscribe(phx.events.GUI_TOGGLE_TOGGLED,function(b){0<a(b.target).closest("#mail-head").length&&c()});phx.event.subscribe(phx.events.PGP_TEASER_SHOWN,function(){c(!0)});
phx.event.subscribe(phx.events.EDITOR_BAR_TOGGLED,function(){var b=a(".cke_contents"),c=a(".widget-mail-compose-body");b.hasClass("is-initial")?b.removeClass("is-initial"):(b.toggleClass("is-collapsed"),c.toggleClass("is-editor-toolbar-collapsed"))});phx.event.subscribe(phx.events.RESIZE_HANDLED,[c,f]);a(document).on(phx.events.RESIZE_HANDLED,function(){c();f()});0<a("#panel-mail-display").length&&e();g();phx.event.subscribe(phx.events.RESIZE_HANDLED,g);phx.event.subscribe("domchange",g)})(jQuery,
CssUtils.modifier);
(function(a){var d,b,c;phx.util.userAgent.is("ios")&&a("html").hasClass("page-htmleditorpage")&&(b={},c=[["mailHead",".widget-mail-compose-head"],["toolbar","#cke_top_editor"],["composeNav",".widget-mail-compose-nav"],["ckIframe","#cke_contents_editor iframe"]],b.page=a(".page"),d=function(){var e=0,d,g;d=0;for(g=c.length;d<g;d++){if(!b[c[d][0]]||1>b[c[d][0]].length)b[c[d][0]]=a(c[d][1]);e+=b[c[d][0]].outerHeight()}return e},d(),window.setInterval(function(){b.page.css("min-height",d()+"px")},100))})(jQuery);
(function(a){a.Drag.prototype.limit=function(b,c){var e=b.styles("borderTopWidth","paddingTop","borderLeftWidth","paddingLeft"),e=new a.Vector(parseInt(e.borderLeftWidth,10)+parseInt(e.paddingLeft,10)||0,parseInt(e.borderTopWidth,10)+parseInt(e.paddingTop,10)||0);this._limit={offset:b.offsetv().plus(e),size:b.dimensionsv(),center:!0===c?"both":c};return this};var d=a.Drag.prototype.position;a.Drag.prototype.position=function(a){if(this._limit){var b=this._limit,e=b.center&&b.center.toLowerCase(),
f=this.movingElement.dimensionsv("outer"),g=e&&"x"!=e?f.height()/2:0,e=e&&"y"!=e?f.width()/2:0,h=b.offset.top(),k=b.offset.left(),l=b.size.height(),b=b.size.width();a.top()+g<h&&a.top(h-g);a.top()+f.height()-g>h+l&&a.top(h+l-f.height()+g);a.left()+e<k&&a.left(k-e);a.left()+f.width()-e>k+b&&a.left(k+b-f.left()+e)}d.call(this,a)}})(jQuery);
(function(a){a.Drag.prototype.scrolls=function(d,b){d=a(d);for(var c=0;c<d.length;c++)this.constructor.responder._elements.push(d.eq(c).data("_dropData",new a.Scrollable(d[c],b))[0])};a.Scrollable=function(d,b){this.element=jQuery(d);this.options=a.extend({distance:30,delta:function(a,b){return(b-a)/2},direction:"xy"},b);this.x=-1!=this.options.direction.indexOf("x");this.y=-1!=this.options.direction.indexOf("y")};a.extend(a.Scrollable.prototype,{init:function(a){this.element=jQuery(a)},callHandlers:function(a,
b,c,e){this[a](b||this.element[0],c,this,e)},dropover:function(){},dropon:function(){this.clear_timeout()},dropout:function(){this.clear_timeout()},dropinit:function(){},dropend:function(){},clear_timeout:function(){this.interval&&(clearTimeout(this.interval),this.interval=null)},distance:function(a){return(30-a)/2},dropmove:function(d,b,c,e){this.clear_timeout();var f=b.vector();c=a(d==document.documentElement?window:d);var g=c.dimensionsv("outer"),h=c.offsetv();c=h.y()+g.y()-f.y();var k=f.y()-h.y(),
g=h.x()+g.x()-f.x(),f=f.x()-h.x(),l=0,m=0,h=this.options.distance;c<h&&this.y?m=this.options.delta(c,h):k<h&&this.y&&(m=-this.options.delta(k,h));g<h&&this.options&&this.x?l=this.options.delta(g,h):f<h&&this.x&&(l=-this.options.delta(f,h));if(l||m){var r=this;this.interval=setTimeout(function(){r.move(a(d),e.movingElement,l,m,b,b.clientX,b.clientY,b.screenX,b.screenY)},15)}},move:function(d,b,c,e,f){d.scrollTop(d.scrollTop()+e);d.scrollLeft(d.scrollLeft()+c);b.trigger(a.event.fix({type:"mousemove",
clientX:f.clientX,clientY:f.clientY,screenX:f.screenX,screenY:f.screenY,pageX:f.pageX,pageY:f.pageY}))}})})(jQuery);(function(a){var d=/INPUT|TEXTAREA/i,b=/RADIO|CHECKBOX|SUBMIT/i;a(document).bind("keydown keypress",function(a){var c;c=a.srcElement||a.target;var f=!1;a.keyCode===phx.util.KEYS.BACKSPACE?d.test(a.target.tagName)?(c.attributes.type&&(f=b.test(c.attributes.type.value)),c=c.readOnly||c.disabled||f):c=!0:c=!1;c&&a.preventDefault()})})(jQuery);
(function(a){a(".noSubmitOnEnter input:text").live({keydown:function(a){a.keyCode===phx.util.KEYS.ENTER&&a.preventDefault()}})})(jQuery);(function(a){phx.event.subscribe(phx.events.MODAL_DIALOG_OPEN,function(){a("iframe").not(".adframe").filter(":visible").attr("data-hidden","true").css("visibility","hidden")});phx.event.subscribe(phx.events.MODAL_DIALOG_CLOSE,function(){a("iframe[data-hidden\x3dtrue]").css("visibility","").removeAttr("data-hidden")})})(jQuery);phx.isMailPreviewVisible=function(){return jQuery(".widget-mail-mail").is(":visible")};
(function(a){a.fn.extend({prependClick:function(d){return this.each(function(){var b=this.onclick,c=this.href;a.data(this,"lastCallback")!==d&&("undefined"===typeof c||c.match(/^#[\w\d]/)||(this.href="#"),this.onclick=function(e){e=e||window.event;d(e,function(){b&&b.apply(this,[e]);c&&"#"!==c&&(location.href=c)});a.event.fix(e).preventDefault();return!1},a.data(this,"lastCallback",d))})}})})(jQuery);
(function(a,d){function b(a,b,c){c.forEach(function(c){a.bind(b,c.eventData,c.callback)})}function c(a,b,c,f){var g,m;if(!f||!1===f)if("function"===typeof c)f=c,c=d;else return;a in e||(e[a]={});a=e[a];b in a||(a[b]=[]);g=a[b];b=0;for(a=g.length;b<a;b++)if(m=g[b],m.eventData===c&&m.callback===f)return;g.push({eventData:c,callback:f})}var e={},f=[],g=Wicket.Event,h=g.Topic;g.subscribe(h.DOM_NODE_ADDED,function(a,b){b&&f.push(b)});g.subscribe(h.AJAX_CALL_COMPLETE,function(){var c,d;d=a(f).find("*").andSelf();
if(d.length)for(c in e){var g=d,h=e[c],n=void 0,g=g.filter(c);if(0!==g.length)for(n in h)b(g,n,h[n])}f=[]});a.fn.wicketLive=function(a,b,d){this.bind.apply(this,arguments);var e=this.selector,f=a,g=b,h=d,m;if("object"===typeof f)for(m in f)c(e,m,g,f[m]);else c(e,f,g,h);return this}})(jQuery);
(function(a,d){a.fn.marginToViewport=function(a,c,e){var b=d.documentElement,g=b.clientWidth,b=b.clientHeight,h=d.body,k=h.scrollLeft,h=h.scrollTop,l=this.offset();e=e||0;a="number"!==typeof a||isNaN(a)?k+g:Math.min(a,k+g);c="number"!==typeof c||isNaN(c)?h+b:Math.min(c,h+b);return{top:l.top-h-e,right:a-(l.left+this.outerWidth())-e,bottom:c-(l.top+this.outerHeight())-e,left:l.left-k-e}}})(jQuery,document);
(function(a){a.fn.inlineEdit=function(d){return this.each(function(){a.inlineEdit.getInstance(this,d).initValue()}).on("click",function(b){var c=a.inlineEdit.getInstance(this,d),e=c.element.find(c.options.control),f=!!e.length;if(b.target!==e[0])c[f?"mutate":"init"]()})};a.inlineEdit=function(d,b){this.options=a.extend(!0,{},a.inlineEdit.defaults,b);this.element=a(d)};a.inlineEdit.getInstance=function(d,b){return a.inlineEdit.initialised(d)?a(d).data("widget.inlineedit"):new a.inlineEdit(d,b)};a.inlineEdit.initialised=
function(d){return a(d).data("init.inlineedit")?!0:!1};a.inlineEdit.defaults={value:"",save:"",placeholder:"Click to edit",control:"input",cancelOnBlur:!1,saveOnBlur:!0,labelMarkup:'\x3ca class\x3d"label"\x3e\x3cspan class\x3d"icon folder-add"\x3e\x3c/span\x3e\x3cspan class\x3d"text link"\x3e\x3c/span\x3e\x3c/a\x3e',inputMarkup:'\x3cspan class\x3d"label"\x3e\x3cspan class\x3d"icon folder-add"\x3e\x3c/span\x3e\x3cspan class\x3d"form-input-type-text focused"\x3e\x3cinput type\x3d"text" value\x3d""\x3e\x3c/span\x3e\x3c/span\x3e',
textAreaMarkup:"\x3ctextarea\x3e\x3c/textarea\x3e"};a.inlineEdit.prototype={init:function(){this.element.data("init.inlineedit",!0);this.initValue();this.mutate();this.element.data("widget.inlineedit",this)},initValue:function(){this.value(a.trim(this.element.text())||this.options.value);var d=jQuery(this.options.labelMarkup),b=d.find(".link");this.value()?this.options.value&&b.html(this.options.value):b.html(this.options.placeholder);this.element.empty().append(d)},mutate:function(){var d;d=this;
window.setTimeout(function(){d.element.find(d.options.control).focus()},a.browser.msie?500:0);return d.element.empty().append(d.mutatedHtml(d.value())).find(d.options.control).bind("blur",function(a){!0===d.options.cancelOnBlur?d.change(d.element,a):!0===d.options.saveOnBlur&&d.save(d.element,a)}).bind("keydown",function(a){switch(a.keyCode){case 13:"textarea"!==d.options.control&&d.save(d.element,a);a.preventDefault();break;case 27:d.change(d.element,a)}}).end()},value:function(d){if(arguments.length){var b=
d===this.options.placeholder?"":d;this.element.data("value.inlineedit",a(".folder-add-link",this).length?"":b&&this.encodeHtml(b.replace(/\n/g,"\x3cbr /\x3e")))}return this.element.data("value.inlineedit")},mutatedHtml:function(a){return this.controls[this.options.control].call(this,a)},save:function(a,b){var c=this.element.find(this.options.control),e={value:this.encodeHtml(c.val())};c.val(e.value);!1===this.options.save.call(this.element[0],b,e)&&(c=jQuery(this).data("value.inlineedit"),this.value(c),
this.change(a,b))},change:function(a,b){var c=jQuery(this.options.labelMarkup),e=this.value()||this.options.placeholder;c.find(".link").html(e);this.element.empty().append(c)},controls:{textarea:function(a){return jQuery(this.options.textAreaMarkup)},input:function(a){return jQuery(this.options.inputMarkup)}},encodeHtml:function(d){var b=d;a.each([{key:/</g,value:"\x26lt;"},{key:/>/g,value:"\x26gt;"},{key:/"/g,value:"\x26quot;"}],function(a,e){b=b.replace(e.key,e.value)});return b}}})(jQuery);
(function(a){a.fn.countdown=function(d){d=d||{timer:10};this.each(function(){var b,c,e,f;f=function(){e.text(c);c--};e=a(this);e.trigger("countdownStart");c="function"===typeof d.timer?d.timer.call(this):d.timer;f();b=setInterval(function(){0===c&&(clearInterval(b),e.trigger("countdownFinish"));f()},1E3);e.on("countdownCancel",function(){clearInterval(b)})});return this}})(jQuery);
(function(a,d){function b(b){var c=a(b.delegateTarget),d=c.closest(f);b=e[b.type];0===d.length&&c.addClass(b)}function c(b){var c=e[b.type];a(b.delegateTarget).removeClass(c)}var e,f,g,h,k,l,m,r;f="[disabled], ."+d.IS_DISABLED;g=d.IS_HOVERED;k=d.IS_ACTIVE;m=d.IS_FOCUSED;e={focus:m,focusin:m,focusout:m,blur:m,mouseenter:g,mousedown:k,mouseleave:g+" "+k,mouseup:k};h={mouseenter:b,mouseleave:c};l={mousedown:b,"mouseup mouseleave":c};r={focus:b,blur:c};a.fn.pseudoClassify=function(a){if(a.hover)this.on(h);
if(a.active)this.on(l);a.focus&&(this.filter("a, button, input, textarea").on(r),this.not("a, button, input, textarea").on(r,"a, button, input, textarea"));return this}})(jQuery,CssUtils.modifier);
(function(a){function d(){var b=(this.getAttribute("data-pseudo-classes")||"hover").split(" "),e={},d,g;d=0;for(g=b.length;d<g;d++)e[b[d]]=!0;a(this).pseudoClassify(e)}var b=[];a(function(){a(".js-classify").each(d)});window.Wicket&&Wicket.Event&&(Wicket.Event.subscribe(Wicket.Event.Topic.DOM_NODE_ADDED,function(a){b.push(a)}),Wicket.Event.subscribe(Wicket.Event.Topic.AJAX_CALL_COMPLETE,function(){var c=a(b);c.find(".js-classify").add(c.filter(".js-classify")).each(d);b=[]}))})(jQuery);
(function(a){function d(){var a=Array.prototype.slice.call(arguments),b=[],e;"string"==typeof a[0]&&(e=a.shift());f(a[0])&&(b=a.shift());a=a.shift();c[e]=[b,a]}function b(a){var d,f;"undefined"==typeof e[a]&&(d=c[a])&&(f=d[0],d=d[1],e[a]=d.apply(void 0,g(f,function(c){var d;d=a.split("/");c=c.split("/");var e=!1;for(d.pop();".."==c[0]&&d.length;)d.pop(),c.shift(),e=!0;"."==c[0]&&(c.shift(),e=!0);e&&(c=d.concat(c));d=c.join("/");return b(d)})));return e[a]}var c={},e={},f=Array.isArray||function(a){return a.constructor==
Array},g=Array.map||function(a,b,c){for(var d=0,e=a.length,f=[];d<e;d++)f.push(b.call(c,a[d]));return f};d("lib/utils",[],function(){var a=[];return{isDomObj:function(a){return!!a.nodeType||a===window},toArray:function(b,c){return a.slice.call(b,c)},merge:function(){for(var a=arguments.length,b=0,c=Array(a+1);b<a;b++)c[b+1]=arguments[b];return 0===a?{}:(c[0]={},!0===c[c.length-1]&&(c.pop(),c.unshift(!0)),$.extend.apply(void 0,c))},push:function(a,b,c){return a&&Object.keys(b||{}).forEach(function(d){if(a[d]&&
c)throw Error("utils.push attempted to overwrite '"+d+"' while running in protected mode");"object"==typeof a[d]&&"object"==typeof b[d]?this.push(a[d],b[d]):a[d]=b[d]},this),a},isEnumerable:function(a,b){return-1<Object.keys(a).indexOf(b)},compose:function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;0<=c;c--)b=[a[c].apply(this,b)];return b[0]}},uniqueArray:function(a){for(var b={},c=[],d=0,e=a.length;d<e;++d)b.hasOwnProperty(a[d])||(c.push(a[d]),b[a[d]]=1);return c},debounce:function(a,
b,c){"number"!=typeof b&&(b=100);var d,e;return function(){var f=this,g=arguments,h=c&&!d;return clearTimeout(d),d=setTimeout(function(){d=null;c||(e=a.apply(f,g))},b),h&&(e=a.apply(f,g)),e}},throttle:function(a,b){"number"!=typeof b&&(b=100);var c,d,e,f,g,h,l=this.debounce(function(){g=f=!1},b);return function(){c=this;d=arguments;return e||(e=setTimeout(function(){e=null;g&&(h=a.apply(c,d));l()},b)),f?g=!0:(f=!0,h=a.apply(c,d)),l(),h}},countThen:function(a,b){return function(){if(!--a)return b.apply(this,
arguments)}},delegate:function(a){return function(b,c){var d=$(b.target),e;Object.keys(a).forEach(function(f){if((e=d.closest(f)).length)return c=c||{},c.el=e[0],a[f].apply(this,[b,c])},this)}}}});d("lib/registry",["./utils"],function(a){function b(a,b){var c,d,e,f=b.length;return"function"==typeof b[f-1]&&(--f,e=b[f]),"object"==typeof b[f-1]&&--f,2==f?(c=b[0],d=b[1]):(c=a.node,d=b[0]),{element:c,type:d,callback:e}}return new function(){function a(a){this.component=a;this.attachedTo=[];this.instances=
{};this.addInstance=function(a){var b=new c(a);return this.instances[a.identity]=b,this.attachedTo.push(a.node),b};this.removeInstance=function(a){delete this.instances[a.identity];a=this.attachedTo.indexOf(a.node);-1<a&&this.attachedTo.splice(a,1);this.instances.length||d.removeComponentInfo(this)};this.isAttachedTo=function(a){return-1<this.attachedTo.indexOf(a)}}function c(a){this.instance=a;this.events=[];this.addBind=function(a){this.events.push(a);d.events.push(a)};this.removeBind=function(a){for(var b=
0,c;c=this.events[b];b++)c.element!=a.element||c.type!=a.type||null!=a.callback&&c.callback!=a.callback||this.events.splice(b,1)}}var d=this;(this.reset=function(){this.components=[];this.allInstances={};this.events=[]}).call(this);this.addInstance=function(b){var c=this.findComponentInfo(b);c||(c=new a(b.constructor),this.components.push(c));var d=c.addInstance(b);return this.allInstances[b.identity]=d,c};this.removeInstance=function(a){this.findInstanceInfo(a);var b=this.findComponentInfo(a);b&&
b.removeInstance(a);delete this.allInstances[a.identity]};this.removeComponentInfo=function(a){a=this.components.indexOf(a);-1<a&&this.components.splice(a,1)};this.findComponentInfo=function(a){a=a.attachTo?a:a.constructor;for(var b=0,c;c=this.components[b];b++)if(c.component===a)return c;return null};this.findInstanceInfo=function(a){return this.allInstances[a.identity]||null};this.findInstanceInfoByNode=function(a){var b=[];return Object.keys(this.allInstances).forEach(function(c){c=this.allInstances[c];
c.instance.node===a&&b.push(c)},this),b};this.on=function(a){var c=d.findInstanceInfo(this),e;e=arguments.length;for(var f=1,g=Array(e-1);f<e;f++)g[f-1]=arguments[f];c&&((e=a.apply(null,g))&&(g[g.length-1]=e),g=b(this,g),c.addBind(g))};this.off=function(a,c,e){var f=b(this,arguments),g=d.findInstanceInfo(this);g&&g.removeBind(f)};window.DEBUG&&DEBUG.enabled&&(d.trigger=new Function);this.teardown=function(){d.removeInstance(this)};this.withRegistration=function(){this.before("initialize",function(){d.addInstance(this)});
this.around("on",d.on);this.after("off",d.off);window.DEBUG&&DEBUG.enabled&&this.after("trigger",d.trigger);this.after("teardown",{obj:d,fnName:"teardown"})}}});d("lib/compose",["./utils"],function(a){function b(a,b){if(c){var e=Object.create(null);Object.keys(a).forEach(function(c){if(0>d.indexOf(c)){var f=Object.getOwnPropertyDescriptor(a,c);f.writable=b;e[c]=f}});Object.defineProperties(a,e)}}var c=!1,d=["mixedIn"];if(c)try{Object.getOwnPropertyDescriptor(Object,"keys")}catch(r){c=!1}return{mixin:function(a,
c){a.mixedIn=a.hasOwnProperty("mixedIn")?a.mixedIn:[];c.forEach(function(c){-1==a.mixedIn.indexOf(c)&&(b(a,!1),c.call(a),a.mixedIn.push(c))});b(a,!0)},unlockProperty:function(a,b,d){var e;c&&a.hasOwnProperty(b)?(e=Object.getOwnPropertyDescriptor(a,b).writable,Object.defineProperty(a,b,{writable:!0}),d.call(a),Object.defineProperty(a,b,{writable:e})):d.call(a)}}});d("lib/advice",["./utils","./compose"],function(a,b){var c={around:function(a,b){return function(){var c=0,d=arguments.length,e=Array(d+
1);for(e[0]=a.bind(this);c<d;c++)e[c+1]=arguments[c];return b.apply(this,e)}},before:function(a,b){var c="function"==typeof b?b:b.obj[b.fnName];return function(){return c.apply(this,arguments),a.apply(this,arguments)}},after:function(a,b){var c="function"==typeof b?b:b.obj[b.fnName];return function(){var b=(a.unbound||a).apply(this,arguments);return c.apply(this,arguments),b}},withAdvice:function(){["before","after","around"].forEach(function(a){this[a]=function(d,e){b.unlockProperty(this,d,function(){return"function"==
typeof this[d]?this[d]=c[a](this[d],e):this[d]=e})}},this)}};return c});d("lib/component",["./advice","./utils","./compose","./registry"],function(a,b,c,d){function e(a){a.events.slice().forEach(function(a){var b=[a.type];a.element&&b.unshift(a.element);"function"==typeof a.callback&&b.push(a.callback);this.off.apply(this,b)},a.instance)}function f(){e(d.findInstanceInfo(this))}function g(){var a=d.findComponentInfo(this);a&&Object.keys(a.instances).forEach(function(b){a.instances[b].instance.teardown()})}
function h(){this.trigger=function(){var a,b,c,d,e;b=arguments.length-1;var f=arguments[b];!("string"==typeof f||f&&f.defaultBehavior)&&(b--,c=f);1==b?(a=$(arguments[0]),d=arguments[1]):(a=this.$node,d=arguments[0]);d.defaultBehavior&&(e=d.defaultBehavior,d=$.Event(d.type));b=d.type||d;if(window.DEBUG&&window.DEBUG.enabled&&window.postMessage){f=c;try{window.postMessage(f,"*")}catch(D){throw console.log("unserializable data for event",b,":",f),Error(["The event",b,"on component",this.toString(),"was triggered with non-serializable data"].join(" "));
}}return"object"==typeof this.attr.eventData&&(c=$.extend(!0,{},this.attr.eventData,c)),a.trigger(d||b,c),e&&!d.isDefaultPrevented()&&(this[e]||e).call(this),a};this.on=function(){var a,c,d,e,f=arguments.length-1,g=arguments[f];"object"==typeof g?e=b.delegate(this.resolveDelegateRules(g)):e=g;2==f?(a=$(arguments[0]),c=arguments[1]):(a=this.$node,c=arguments[0]);if("function"!=typeof e&&"object"!=typeof e)throw Error("Unable to bind to '"+c+"' because the given callback is not a function or an object");
return d=e.bind(this),d.target=e,e.guid&&(d.guid=e.guid),a.on(c,d),e.guid=d.guid,d};this.off=function(){var a,b,c,d=arguments.length-1;return"function"==typeof arguments[d]&&(c=arguments[d],--d),1==d?(a=$(arguments[0]),b=arguments[1]):(a=this.$node,b=arguments[0]),a.off(b,c)};this.resolveDelegateRules=function(a){var b={};return Object.keys(a).forEach(function(c){if(!c in this.attr)throw Error('Component "'+this.toString()+'" wants to listen on "'+c+'" but no such attribute was defined.');b[this.attr[c]]=
a[c]},this),b};this.defaultAttrs=function(a){b.push(this.defaults,a,!0)||(this.defaults=a)};this.select=function(a){return this.$node.find(this.attr[a])};this.initialize=$.noop;this.teardown=f}function m(a){for(var c=arguments.length,e=Array(c-1),f=1;f<c;f++)e[f-1]=arguments[f];if(!a)throw Error("Component needs to be attachTo'd a jQuery object, native node or selector string");var g=b.merge.apply(b,e);$(a).each(function(a,b){var c=b.jQuery?b[0]:b,e=d.findComponentInfo(this);e&&e.isAttachedTo(c)||
new this(b,g)}.bind(this))}function l(){function b(a,c){c=c||{};this.identity=x++;if(!a)throw Error("Component needs a node");a.jquery?(this.node=a[0],this.$node=a):(this.node=a,this.$node=$(a));this.toString=b.toString;window.DEBUG&&window.DEBUG.enabled&&(this.describe=this.toString());var d=Object.create(c),e;for(e in this.defaults)c.hasOwnProperty(e)||(d[e]=this.defaults[e]);this.attr=d;Object.keys(this.defaults||{}).forEach(function(a){if(null===this.defaults[a]&&null===this.attr[a])throw Error('Required attribute "'+
a+'" not specified in attachTo for component "'+this.toString()+'".');},this);this.initialize.call(this,c)}for(var e=arguments.length,f=Array(e),u=0;u<e;u++)f[u]=arguments[u];return b.toString=function(){return f.map(function(a){return null==a.name?(a=a.toString().match(k))&&a[1]?a[1]:"":"withBaseComponent"!=a.name?a.name:""}).filter(Boolean).join(", ")},window.DEBUG&&window.DEBUG.enabled&&(b.describe=b.toString()),b.attachTo=m,b.teardownAll=g,f.unshift(h,a.withAdvice,d.withRegistration),c.mixin(b.prototype,
f),b}var k=/function (.*?)\s?\(/,x=0;return l.teardownAll=function(){d.components.slice().forEach(function(a){a.component.teardownAll()});d.reset()},l});d("lib/logger",["./compose","./utils"],function(a,b){function c(a){var b=(a.tagName?a.tagName.toLowerCase():a.toString())+(a.className?"."+a.className:"");return a.tagName?["'","'"].join(b):b}function d(a,b,d){var f,g,h,m,l,q,B,u;"function"==typeof d[d.length-1]&&(h=d.pop(),h=h.unbound||h);"object"==typeof d[d.length-1]&&d.pop();2==d.length?(g=d[0],
f=d[1]):(g=b.$node[0],f=d[0]);window.DEBUG&&window.DEBUG.enabled&&(l=DEBUG.events.logFilter,B="all"==l.actions||-1<l.actions.indexOf(a),q=function(a){return a.test?a:new RegExp("^"+a.replace(/\*/g,".*")+"$")},u="all"==l.eventNames||l.eventNames.some(function(a){return q(a).test(f)}),B&&u&&console.info(e[a],a,"["+f+"]",c(g),b.constructor.toString(),h&&(m=h.name||h.displayName)&&"-\x3e  "+m))}var e={on:"\x3c-",trigger:"-\x3e",off:"x "};return function(){this.before("trigger",function(){d("trigger",
this,b.toArray(arguments))});this.before("on",function(){d("on",this,b.toArray(arguments))});this.before("off",function(a){d("off",this,b.toArray(arguments))})}});d("lib/index","./advice ./component ./compose ./logger ./registry ./utils".split(" "),function(a,b,c,d,e,f){return{advice:a,component:b,compose:c,logger:d,registry:e,utils:f}});a.flight=b("lib/index")})(this);
WicketFlightManager=function(a,d){function b(a){a=d(a);return a.find(".js-component").add(a.filter(".js-component"))}function c(a){a=d(a).data();var b,c,e={};for(b in a)0===b.indexOf("component")&&9<b.length&&(c=b.charAt(9).toLowerCase()+b.substring(10),e[c]=a[b]);return e}function e(){var a=this.getAttribute("data-component");g.hasOwnProperty(a)&&g[a].attachTo(this,c(this))}function f(a){b(a).each(e)}var g={},h=!1,k=a.Event,l=k.Topic;k.subscribe(l.DOM_NODE_REMOVING,function(a,c){b(c).trigger("teardown")});
k.subscribe(l.DOM_NODE_ADDED,function(a,b){f(b)});d(function(){f(document.body);h=!0});d(window).on("unload",function(){for(var a in g)g[a].teardownAll()});return{registerComponent:function(a,b){g[a]=b},getComponent:function(a){return g[a]||null},attachElements:f,isInitialized:function(){return h}}}(Wicket,jQuery);
defineComponent=function(a,d){function b(){this.after("initialize",function(){this.on("teardown",function(a,b){this.teardown();b||a.stopPropagation()})})}function c(){this.getNameSpacedEventName=function(a){return a+"."+this.name}}return function(e){var f=e.mixins,g=e.name;e=e.parent;"function"===typeof f&&(f=[f]);e?(e=e.prototype.mixedIn.slice(3),f=e.concat(f)):(f.unshift(b),f.unshift(c));f.push(function(){this.name=g});f=d.component.apply(null,f);g&&a.registerComponent(g,f);return f}}(WicketFlightManager,
flight);
mixinFlyout=function(a){return function(){this.hasOpenFlyout=function(){return this.$node.hasClass(a.HAS_OPEN_FLYOUT)};this.toggleHasOpenFlyoutClass=function(d){"ftd"===d.namespace&&("open"===d.type?this.$node.addClass(a.HAS_OPEN_FLYOUT):this.$node.removeClass(a.HAS_OPEN_FLYOUT))};this.addClientSideFlyoutBehavior=function(a){a.options&&a.trigger&&(a.trigger.attr(a.options),this.trigger(document,"addFlyoutHandlerWithoutAjax",a.trigger));if(a.onOpen)this.on(a.trigger,"open.ftd",a.onOpen);if(a.onClose)this.on(a.trigger,"close.ftd",
a.onClose)};this.after("initialize",function(){this.on("open.ftd close.ftd",this.toggleHasOpenFlyoutClass)})}}(CssUtils.modifier);
mixinTemplate=function(a,d,b){return function(){this.defaultAttrs({templateSelector:".js-template"});this.templates=null;this.getTemplate=function(b){return this.templates[b]||a()};this.isScriptTagTemplate=function(a){return(a=this.getTemplate(a).prop("tagName"))?"SCRIPT"===a.toUpperCase():!1};this.getTemplateContent=function(b){b=this.isScriptTagTemplate(b)?a(this.getTemplateContentAsHtmlString(b)):this.getTemplate(b).children();d.attachElements(b);return b};this.getTemplateContentAsHtmlString=function(b){return(b=
this.getTemplate(b).html())?a.trim(b):""};this.checkAndDetachTemplate=function(b){b.each(function(b,c){c=a(c);c.data("templatePreventDetach")||c.detach()}.bind(this))};this.addTemplate=function(b){b.each(function(b,c){c=a(c);var d=c.data("templateName");this.templates[d]=c}.bind(this))};this.initializeTemplates=function(){var a=this.select("templateSelector");this.templates={};this.addTemplate(a);this.checkAndDetachTemplate(a)};this.after("initialize",function(){this.initializeTemplates()})}}(jQuery,
WicketFlightManager,phx.util);mixinTrack=function(a){return function(){this.triggerPixel=function(a){this.trigger(document,"trackEvent.statistics",a)};this.hasTracking=function(){return!!this.attr.track};this.logPixelError=function(d){a.Log.error("PixelId",d||"","for tracking undefined")};this.track=function(a,b){var c,d=[];this.hasTracking()&&(c=a?this.attr.track[a]:this.attr.track,void 0!==c?(d.push(c),b&&d.push({labels:JSON.stringify(b)}),this.triggerPixel(d)):this.logPixelError(a))}}}(Wicket);
mixinToggleVisibility=function(a){return function(){this.defaultAttrs({toggleVisibilityTriggerElement:null,toggleVisibilityMinimizedCssClassName:"is-minimized"});this.onClickToggleVisibilityTrigger=function(){this.getToggleVisibilityMinimizeElement().toggleClass(this.attr.toggleVisibilityMinimizedCssClassName)};this.getToggleVisibilityMinimizeElement=function(){return this.attr.toggleVisibilityMinimizeElement?this.select("toggleVisibilityMinimizeElement"):this.$node};this.addToggleVisibilityHandler=
function(){this.on("click",{toggleVisibilityTriggerElement:this.onClickToggleVisibilityTrigger})};this.after("initialize",function(){this.addToggleVisibilityHandler()})}}(jQuery);
mixinEic=function(a){return function(){this.eicID=this.eic=null;this.eicConnect=function(a){a=a||0;if(this.getEicContext())return this.trigger("onEicInitialize"),!0;10>a&&window.setTimeout(function(){this.eicConnect(++a)}.bind(this),100);return!1};this.getEicContext=function(){this.eic||(this.eic=window.com&&com.unitedinternet&&com.unitedinternet.eic||null);return this.eic};this.eicListen=function(){this.eic.isListen||(this.eic.listen(),this.eic.isListen=!0)};this.eicRegisterCommand=function(a,b){return a&&
"function"===typeof b?(this.eic.commands[a]=b,!0):!1};this.eicRegisterFrame=function(a){return this.getEicContext()&&"iframe"===a.tagName.toLowerCase()?(this.eicID=this.eic.frames.length,this.eic.frames.push(a),!0):!1};this.getEicParams=function(){return this.eic.params({url:a.getEicClientUrl(),id:this.eicID})};this.onEicInitialize=function(){this.eicListen()};this.after("initialize",function(){this.on("onEicInitialize",this.onEicInitialize);this.eicConnect()})}}(phx.util.eic);
mixinKeypress=function(a,d){return function(){this.defaultAttrs({keySupportWhiteList:"input, textarea, select",keySupportBlackList:":checkbox"});this.keyBindings={};this.hasActiveKeyController=!1;this.keyController=function(a){var b=this.getKey(a.which);!b||this.isSystemKeyCombo(a)||this.hasGallery()||b.preventIFrameKeys&&this.isIFrame(a.target)||b.preventInputKeys&&this.isInputElementWithKeySupport(a.target)||b.callback.call(this,a)};this.isSystemKeyCombo=function(a){return!!this.isKeyCombinationWithDelete(a)};
this.isKeyCombinationWithDelete=function(a){return!(!this.isMetaKey(a)||!this.isDeleteKey(a))};this.isMetaKey=function(a){return!!(a.metaKey||a.ctrlKey||a.shiftKey||a.altKey)};this.isDeleteKey=function(a){return a.keyCode===d.DELETE};this.isIFrame=function(b){return a(b).is("iframe")?!0:!1};this.hasGallery=function(){return a("html").hasClass("slideshow-visible")?!0:!1};this.isInputElementWithKeySupport=function(b){return a(b).is(this.attr.keySupportWhiteList)&&!a(b).is(this.attr.keySupportBlackList)?
!0:!1};this.startKeyListener=function(){this.hasActiveKeyController||(this.on(document,"keydown",this.keyController),this.hasActiveKeyController=!0)};this.stopKeyListener=function(){this.off(document,"keydown",this.keyController);this.hasActiveKeyController=!1};this.addKey=function(b,c,d){this.keyBindings[b]=a.extend({preventInputKeys:!0,preventIFrameKeys:!1,callback:c},d)};this.removeKey=function(a){delete this.keyBindings[a]};this.getKey=function(a){return this.keyBindings.hasOwnProperty(a)?this.keyBindings[a]:
null}}}(jQuery,phx.util.KEYS);
BasePage=function(a,d){return d({name:"BasePage",mixins:[function(){this.defaultAttrs({callbackUrl:null});this.onPostMessage=function(a,c){if(this.attr.callbackUrl){var b={u:this.attr.callbackUrl,ep:{usecase:c.usecase,payload:JSON.stringify(c.payload||{})}};c.onSuccess&&(b.sh=[c.onSuccess]);c.onFailure&&(b.fh=[c.onFailure]);c.onDone&&(b.coh=[c.onDone]);Wicket.Ajax.post(b)}};this.after("initialize",function(){this.on(document,"postMessage",this.onPostMessage)})}]})}(jQuery,defineComponent);
PixelTrackingIFrame=function(a){return a({name:"PixelTrackingIFrame",mixins:[function(){this.getIFrameBody=function(){return this.$node.contents().find("body")};this.onTrackIFramePixel=function(a,b){var c=this.getIFrameBody();$.each(b.pixels,function(a,b){c.append('\x3cimg src\x3d"'+b+'" /\x3e')})};this.after("initialize",function(){this.on(document,"trackIFramePixel",this.onTrackIFramePixel)})}]})}(defineComponent);
(function(a){function d(b){return a(b).closest(".ftd-box, .stage-wrapper, body")}function b(a,b){var c=a.split(/\s+/).map(Math.floor);a={x:c[0]||0,y:c[1]||0};1===c.length&&/^(?:right|left)$/.test(b)&&(a.y=-14);return a}function c(a){var c={};"trigger behavior cache target position offset centerstem".split(" ").forEach(function(b){var d=a.getAttribute("data-ftd-"+b);d?c[b]=d:b in t&&(c[b]=t[b])});c.offset=b(c.offset,c.position);c.cache="false"!==c.cache;c.centerstem="false"!==c.centerstem;return c}
function e(a){return a.getAttribute("data-ftd-trigger")||"flyoutTopLevel"}function f(b){var c,d;if(b)"string"!==typeof b&&(b=b.getAttribute("data-ftd-trigger")?e(b):this.id),(c=p[b])&&c.open&&(d=a("#"+b),y(d),d.off(".ftd"),d.hide(),c.open=!1,c=a("#"+c.trigger),b=a.Event("close.ftd",{ftdId:b}),c.trigger(b));else for(c in p)(b=p[c])&&b.open&&(d=a("#"+c),d.off(".ftd"),d.hide(),b.open=!1,b=a("#"+b.trigger),d=a.Event("close.ftd",{ftdId:c}),b.trigger(d))}function g(a){(a=p[a.data.ftdId])&&a.loading&&(a.aborted=
!0)}function h(a){f(a.data.ftdId)}function k(b){var c={ftdId:b};a("iframe").not(".adframe").each(function(){try{a(this.contentWindow.document).one("click",c,h)}catch(u){}})}function l(b,c){var e,f,q;q=a(b);f=a(".dialog-container");e=d(b);0<q.closest(f).length&&(e=f);return(+e.css("z-index")||0)+("tooltip"===c?1E3:100)}function m(b){var d,f,q,g,h,m;"string"===typeof b&&(b={target:document.getElementById(b)});d=b.target;f=e(d);q=p[f];q.trigger!==d.id&&(d=document.getElementById(q.trigger));h=c(d);g=
h.target?document.getElementById(h.target):d;f=a("#"+f);m=a(d);f.css("z-index",l(d,h.behavior));phx.placeFtd(f,a(g),m,h);q.open=!0;q.timestamp=Date.now();v[h.behavior].close(b.target);m.trigger("open.ftd")}function r(){var a=this.getAttribute("data-ftd-trigger");return!(!a||!document.getElementById(a))}function n(){var b,d,f;b=a(this);d=c(this);this.id||(this.id="ftd"+e._id++);b.on("tooltip"===d.behavior?"mouseenter":"click",function(a){phx.startAjax(this.id)&&phx.ajaxDone(this.id)});b.on({"preopen.ftd":function(){var b=
a("#"+e(this));f=b.prev();a("body").append(b)},"close.ftd":function(){var b=a("#"+e(this));f&&f.after(b)}})}function w(a){window.setTimeout(function(){var a,b;for(b in p)a=p[b],a.open&&m(a.trigger)},0)}var p,t,v,A,x,y;p={};t={behavior:"flyout",cache:!0,offset:"0",position:"bottom"};y=function(a){var b,c,d,e=0;b={};for(c in p)(d=p[c])&&d.open&&(b[d.trigger]=c,e++);0!==e&&a.find("[data-ftd-trigger]").each(function(){this.id in b&&(f(b[this.id]),delete b[this.id])})};v={tooltip:{close:function(b){var c=
e(b);b=a(b);c={ftdId:c};b.one("mouseleave.ftd",c,h);a(document).one("click.ftd",c,h);b.closest(".js-scroll-pane").one("scroll.ftd",c,h)},abort:function(b){var c=e(b);a(b).one("mouseleave.ftd",{ftdId:c},g)}},flyout:{close:function(b){var c,d;c=e(b);d={ftdId:c};a("#"+c).on("click.ftd",function(a){a.stopPropagation()});a(document).one("click.ftd",d,h);a(b).closest(".js-scroll-pane").one("scroll.ftd",d,h);k(c)},abort:function(b){b=e(b);a(document).one("click.ftd",{ftdId:b},g)}},dropdown:{close:function(b){var c=
e(b),d={ftdId:c};a(document).one("click.ftd",d,h);a(b).closest(".js-scroll-pane").one("scroll.ftd",d,h);k(c)}},script:{close:function(a){a=e(a);k(a)}}};v.script.abort=v.dropdown.abort=v.flyout.abort;e._id=0;x=a(document);x.on("startAjax","[data-ftd-trigger]",function(a){var b;(b=this.getAttribute("data-ftd-trigger"))&&(b=p[b])&&b.loading&&(b.trigger=this.id,a.preventDefault(),a.stopImmediatePropagation())});x.on("startAjax","[data-ftd-trigger]",function(b){0<a(this).closest("[disabled], .inactive, .disabled").length&&
(b.preventDefault(),b.stopImmediatePropagation())});x.on("startAjax","[data-ftd-trigger]",function(b){var c,d;c=e(this);(d=p[c])&&d.open&&(d.trigger===this.id?(b.preventDefault(),b.stopImmediatePropagation(),300<Date.now()-d.timestamp&&f(c)):d.cache&&(b.preventDefault(),b.stopImmediatePropagation(),a("#"+d.trigger).trigger("close.ftd"),d.trigger=this.id,m({target:this})))});x.on("startAjax","[data-ftd-trigger]",function(a){var b;(b=this.getAttribute("data-ftd-trigger"))&&(b=p[b])&&b.loaded&&(a.preventDefault(),
a.stopImmediatePropagation(),a=d(this),y(a),b.trigger=this.id,m({target:this}))});x.on("startAjax","[data-ftd-trigger]",function(a){var b;a=c(this);y(d(this));(b=a.trigger)||(a.cache?(b="ftd"+e._id++,this.setAttribute("data-ftd-trigger",b)):b="flyoutTopLevel");p[b]={aborted:!1,loaded:!1,loading:!0,open:!1,trigger:this.id};v[a.behavior].abort(this)});A=a("[data-ftd-trigger]");A.wicketLive({click:function(a){"tooltip"!==this.getAttribute("data-ftd-behavior")&&a.stopPropagation()}});x.on("ajaxDone",
"[data-ftd-trigger]",function(a){var b,d;d=c(this);d.cache&&(b=document.getElementById(d.trigger),b||(b=document.getElementById("flyoutTopLevel"),b.id=d.trigger,d=document.createElement("div"),d.id="flyoutTopLevel",b.parentNode.appendChild(d)));b=e(this);b=p[b];b.loading=!1;b.loaded=!0;b.aborted||m(a)});A.filter(r).each(n);phx.event.subscribe(phx.events.WICKET_AJAX_DONE,function(b){a(b.added).find("[data-ftd-trigger]").addBack("[data-ftd-trigger]").filter(r).each(n)});a(document).on("addFlyoutHandlerWithoutAjax",
function(b,c){a(c).each(n)});a(document).on(phx.events.RESIZE_HANDLED,w);phx.event.subscribe(phx.events.RESIZE_HANDLED,w);phx.ftd={open:m,close:f,closeAllWithin:y,isOpen:function(a){var b,c;b=!1;if(a)a in p||(b=document.getElementById(a))&&(a=e(b)),a=p[a],b=!(!a||!a.open);else for(c in p)if(p[c].open){b=!0;break}return b},getFtdId:e}})(jQuery);
(function(a){var d={top:{left:function(a){var b,d,f;b=a.ftd;d=a.target;f=b.offset.x;return d.left+f-Math.max(0,b.width-d.width+f-a.marginToViewport.right)},top:function(a){return Math.max(0,a.target.top-a.ftd.height+a.ftd.offset.y)},stem:function(a){var b,d,f;b=a.target.width;d=a.target.left;f=a.stem.width;d-=a.ftd.left;a.stem.element.css({left:Math.max(6,Math.min(a.stem.center?d+Math.max(6,b/2)-f/2:d+Math.max(6,Math.min(30,b/2))-f/2,a.ftd.width-f-6))})}},"top-right":{left:function(a){var b,d,f,g;
b=a.ftd;d=a.target;f=b.width;g=d.width;b=b.offset.x;return d.left+g+b-f+Math.max(0,f-b-g-a.marginToViewport.left)},stem:function(a){var b,d,f,g;b=a.target;d=a.ftd;f=b.width;g=a.stem.width;a.stem.element.css({right:Math.max(6,Math.min(d.left+d.width-(b.left+f)+Math.max(6,Math.min(30,f/2))-g/2,d.width-g-6)),left:"auto"})}},bottom:{top:function(a){return Math.max(0,a.target.top+a.target.height+a.ftd.offset.y)}},"bottom-right":{},left:{left:function(a){return a.target.left-a.ftd.width+a.ftd.offset.x},
top:function(a){var b,d,f,g;b=a.ftd;d=a.target;f=b.height;g=d.height;b=b.offset.y;return Math.max(0,d.top+b-Math.max(0,f-g+b-a.marginToViewport.bottom))},stem:function(a){var b,d,f,g;b=a.ftd;d=a.target;f=d.top-b.top;d=d.height;g=a.stem.height;a.stem.element.css({top:Math.max(6,Math.min(f+Math.max(6,Math.min(30,d/2))-g/2,b.height-g-6))})}},right:{left:function(a){return a.target.left+a.target.width+a.ftd.offset.x}}};d.bottom.left=d.top.left;d.bottom.stem=d.top.stem;d.right.top=d.left.top;d.right.stem=
d.left.stem;d["top-left"]=d.top;d["bottom-left"]=d.bottom;d["top-right"].top=d.top.top;d["bottom-right"].top=d.bottom.top;d["bottom-right"].left=d["top-right"].left;d["bottom-right"].stem=d["top-right"].stem;phx.placeFtd=function(b,c,e,f){var g;b.children(".ftd-box-stem").css({top:"",right:"",bottom:"",left:""});b.find(".body").css("max-height","");b.css({top:0,left:0,display:"block",visibility:"hidden"});g=a.Event("preopen.ftd",{ftdId:b.attr("id")});e.trigger(g);e=b.children(".ftd-box-stem");g=f.offset;
var h=f.centerstem;e={ftd:{element:b,width:b.outerWidth(!0),height:b.outerHeight(!0),offset:g},target:{element:c,width:c.outerWidth(),height:c.outerHeight()},stem:{element:e,width:e.outerWidth(),height:e.outerHeight(),has:b.is(".stem-north, .stem-east, .stem-south, .stem-west"),center:h}};a.extend(e.target,c.offset());var k,h=a(".section-1 .section-container");k=h.offset();g=k.left+h.outerWidth()+10;h=k.top+h.outerHeight()+10;c=c.marginToViewport(g,h,5);e.marginToViewport=c;f=f.position.split("-");
g=f[0];c=e.marginToViewport;h=e.ftd;k=h.offset;c={top:c.top-10>=h.height+k.y,right:c.right-10>=h.width+k.x,bottom:c.bottom-10>=h.height+k.y,left:c.left-10>=h.width+k.x};if(!c[g]){var l,h={top:"bottom",right:"left",bottom:"top",left:"right"}[g];k=e.marginToViewport;l=e.ftd.offset;if(c[h]||k[h]>k[g])g=h,"top"===g||"bottom"===g?l.y=-l.y:l.x=-l.x;f[0]=g}g=f[0];c=e.ftd;h=e.marginToViewport;k=h[g];if("left"===g||"right"===g)k=h.top+h.bottom;g=c.height+c.offset.y-k;0<g&&(h=c.element.find(".body").filter(":not(.js-ftd-scroll-prevention)"),
h.css("max-height",h.height()-g-5),c.height=c.height-g-5);f=f.join("-");e.stem.has&&(c=f.split("-")[0],g={top:"stem-south",bottom:"stem-north",left:"stem-east",right:"stem-west"},b.hasClass(g[c])||b.removeClass("stem-north stem-east stem-south stem-west").addClass(g[c]));e.ftd.left=d[f].left(e);e.ftd.top=d[f].top(e);d[f].stem(e);b.css({left:e.ftd.left,top:e.ftd.top,visibility:"visible"})}})(jQuery);
(function(a){function d(b){var c=a(b.target);c.closest(".gui-toggle").toggleClass("minimized");"hidden"===c.data("trigger-visibility")&&c.closest(".gui-toggle-trigger-container").remove();phx.event.publish(phx.events.GUI_TOGGLE_TOGGLED,{target:b.target,causedBy:b})}a("[data-ftd-trigger]").wicketLive({"preopen.ftd":function(b){a("#"+b.ftdId).on("click",".gui-toggle-trigger",d)},"close.ftd":function(b){a("#"+b.ftdId).off("click",".gui-toggle-trigger",d)}});a("body").on("click",".gui-toggle-trigger",
d)})(jQuery);
(function(a){function d(b){var c,e,f,g;c=a(b.target).closest(".js-focusable");e=c.outerHeight(!0);if("focusin"===b.type||"focus"===b.type)c.addClass("focused");else{if(f=+c.attr("data-focus-delay")){c.attr("data-focus-delay","0");window.setTimeout(function(){d(b);c.attr("data-focus-delay",f)},f);return}c.removeClass("focused")}g=c.outerHeight(!0);g<e?phx.event.publish(phx.events.COLLAPSED_QUICK_REPLY,{type:phx.events.COLLAPSED_QUICK_REPLY,target:c}):g>e&&phx.event.publish(phx.events.EXPANDED_QUICK_REPLY,{type:phx.events.EXPANDED_QUICK_REPLY,
target:c})}a(".js-focusable textarea, .js-focusable input:password, .js-focusable input:text").wicketLive({focus:d,blur:d})})(jQuery);(function(a){phx.util.userAgent.is("ie","opera")||a(".panel-search .form-input input").keypress(function(d){13===d.which&&a(".panel-search .form-input input").blur()});a(".panel-search form").on("submit",function(d){""===a(".panel-search input.input-text").val()&&(a(".panel-search .form-input input").blur(),d.preventDefault())})})(jQuery);
(function(a){function d(){var b,c;b=a(this.form||this);c=b.find("input:checked");b=b.find(".filter tfoot li");0===c.length?b.addClass("inactive"):1===c.length?b.removeClass("inactive"):b.filter(".no-multiple").addClass("inactive")}a("div.panel-setting input:checkbox").wicketLive({click:d}).closest("form").each(d)})(jQuery);
(function(a){function d(){a(document).trigger("closeLayer");a(".layer-overlay, .layer-root, .dialog-container").hide();phx.event.publish(phx.events.MODAL_DIALOG_CLOSE)}function b(a){a.css({"margin-left":-1*a.outerWidth()/2,"margin-top":-1*a.outerHeight()/2})}function c(c){var d=a(".layer-overlay"),e=a('\x3cdiv class\x3d"spinner-icon"/\x3e');a(".spinner-icon").remove();b(e);d.append(e);d.show();c?d.addClass("dark"):d.removeClass("dark")}function e(c){var e=a(".layer-root"),f=a("#"+c+" .layer-root");
c=a("#"+c+".dialog-container");a(document).trigger("openLayer");phx.event.publish(phx.events.MODAL_DIALOG_OPEN);c.show();e.hide();b(f);f.show();a(".layer-close").click(d)}phx.showLayerOverlay=c;phx.showLayerRoot=e;phx.closeLayer=d;phx.isLayerVisible=function(){return"none"!==a(".layer-root").css("display")||"none"!==a(".layer-overlay").css("display")};phx.showLayerOverlayWithCountdown=function(b,d,h){var f=a("#"+b+" .layer-dialog"),g=f.find(".layer-countdown");c(d);e(b);g.on("countdownFinish",function(){a("#immediatelySubmitButton").find(".area").trigger("click");
f.removeClass("countdown");f.addClass("spinner");f.find(".layer-footer").slideUp(200)});phx.event.subscribe(phx.events.CANCEL_LAYER_COUNTDOWN,function(){g.trigger("countdownCancel")});g.countdown({timer:h})}})(jQuery);(function(a){function d(b){a(b.target).closest(".form-composite-list_item, .m-form-item, .form-item").find(":checkbox, :radio").each(function(){this.checked||(this.checked=!0,a(this).trigger("click",b))})}0===a(".panel-setting iframe").length&&a(".js-autoselect-formpart input[type\x3dtext], .js-autoselect-formpart select").wicketLive({focus:d})})(jQuery);
(function(a){function d(a){if(a||!phx.editor||phx.editor.isReady())h.hide(),g.css("cursor","auto"),c=window.clearTimeout(c),e=window.clearTimeout(e)}function b(){f||(h.show(),window.clearTimeout(c),c=window.setTimeout(function(){d(!0)},5E3),window.clearTimeout(e),e=window.setTimeout(function(){g.css("cursor","wait")},200));f=!1}var c,e,f=!1,g=a("body"),h=a("#blocker");a=Wicket.Event;var k=a.Topic;phx.event.subscribe(phx.events.SHOW_BLOCKER,b);phx.event.subscribe(phx.events.HIDE_BLOCKER,d);phx.event.subscribe(phx.events.DISABLE_BLOCKER_ONCE,
function(){f=!0});a.subscribe(k.AJAX_CALL_BEFORE_SEND,b);a.subscribe(k.AJAX_CALL_COMPLETE,d)})(jQuery);(function(a){a(".ftd-box input:text, .js-prevent-submit input:text").wicketLive({keydown:function(a){13===a.keyCode&&a.preventDefault()}})})(jQuery);
(function(a,d){var b,c,e,f,g,h,k,l,m,r,n,w,p;l={};m=d.IS_HIDDEN;b=function(a){"string"===typeof a&&(this.id=a,this.updateObjectReference())};phx.navigation||(phx.navigation={getFolder:function(a){return"string"===typeof a?a in l?l[a]:l[a]=new b(a):null}});a.extend(b.prototype,{isSystemFolder:function(){return this.element.hasClass("system")},isPresetFolder:function(){return this.element.hasClass("preset")},isCustomFolder:function(){return this.element.hasClass("custom")},isMailCollectorFolder:function(){return this.element.hasClass("mailcollector")},
isOpen:function(){return this.element.hasClass("open")},isClose:function(){return!this.isOpen()},hasParent:function(){return this._hasParent=this._hasParent||!this.element.closest("ul").hasClass("lvl1")},hasSubfolders:function(){return 0<this.element.siblings("ul").length},data:function(a,b){if("undefined"===typeof b)return this.element.data(a)||0;this.element.data(a,b)},unreadCount:function(a){return this.data("unread-count",a)},unreadTotal:function(a){return this.data("unread-total",a)},folderTotal:function(a){return this.data("folder-total",
a)},getLabelText:function(){return a.trim(this.element.find(".label").text())},open:function(){this.hasSubfolders()&&(this.element.addClass("open"),this.updateUnreadCountNumber(),this.saveFolderOpenState(),phx.event.publish(phx.events.FOLDER_OPEN,this))},close:function(){this.isOpen()&&(this.element.removeClass("open"),this.updateUnreadCountNumber(),this.deleteFolderOpenState(),phx.event.publish(phx.events.FOLDER_CLOSE,this))},hideUnreadCount:function(){this.element.find(".unread-count").addClass(m)},
showUnreadCount:function(){this.element.find(".unread-count").removeClass(m)},updateObjectReference:function(){this.element=a("div.folder[data-folderid\x3d"+this.id+"]")},updateUnreadCountNumber:function(){var a;a=this.hasSubfolders()?this.isOpen()?this.unreadCount():this.unreadTotal():this.unreadCount();0<a?this.showUnreadCount():this.hideUnreadCount();this.element.find(".unread-count \x3e .number").text(a)},updateLabelTitle:function(a){a=a||"string"===typeof a?a:this.getLabelText()+" ("+this.unreadCount()+
"/"+this.folderTotal()+")";this.element.find(".label").attr("title",a)},saveFolderOpenState:function(){var a=p();this.id in a||(a[this.id]=!0,w(a))},deleteFolderOpenState:function(){var a=p();delete a[this.id];w(a)}});p=function(){try{return JSON.parse(localStorage.getItem("phx.navigation.openfolders"))||{}}catch(t){return null}};w=function(a){try{localStorage.setItem("phx.navigation.openfolders",JSON.stringify(a))}catch(v){}};c=function(b){var c,d;"object"===typeof b&&(c=a(b.target),d=c.closest("a"),
c=c.closest("div.folder"),c=phx.navigation.getFolder(c.data("folderid")),(d.hasClass("label")||d.hasClass("unread-count"))&&c.isClose()?c.saveFolderOpenState():d.hasClass("toggle")&&(c.isOpen()?c.close():c.open()),phx.event.publish("domchange",{target:b.target}))};h=function(b){"object"===typeof b.folders&&b.folders&&jQuery.each(b.folders,function(a,b){var c=phx.navigation.getFolder(a);c.unreadCount(b.unreadCount);c.hasSubfolders()&&c.unreadTotal(b.unreadTotal);c.folderTotal(b.folderTotal);c.updateLabelTitle();
c.updateUnreadCountNumber()});"object"===typeof b.specials&&jQuery.each(b.specials,function(b,c){var d=a("#navigation [data-folderid\x3d"+b+"] span.number"),e=c.unreadCount;0<e?d.removeClass(m):d.addClass(m);a("#navigation [data-folderid\x3d"+b+"] span.number").text(e)})};f=function(){var b=p();"object"===typeof b&&a.each(b,function(a){phx.navigation.getFolder(a).open()})};g=function(b){"object"===typeof b&&a.isArray(b.folders)?a.each(b.folders,function(a,b){l[b]&&l[b].updateObjectReference()}):a.each(l,
function(a,b){b.updateObjectReference()})};e=function(a){g(a);f()};r=function(){var b=[];a("#navigation .folder.open").each(function(){var c=a(this).data("folderid");b.push(c)});return b};n=function(b){a.isArray(b)&&a.each(b,function(a,b){phx.navigation.getFolder(b).saveFolderOpenState()})};(function(){var b=r();f();n(b);k=["div.folder a.toggle","div.folder a.label","div.folder a.unread-count"];a("#navigation").on("click",k.join(","),c);phx.event.subscribe(phx.events.NAVIGATION_UPDATE_DATA,h);phx.event.subscribe(phx.events.NAVIGATION_UPDATE,
e)})()})(jQuery,CssUtils.modifier);
(function(a){var d,b;d=[".mail-directory div.nav-item","#navigation-contacts li.item"];b={mouseenter:function(){var b=a(this);b.data("isHover",!0);b.hasClass("hover")||b.addClass("hover")},mouseleave:function(){var b=a(this);b.data("isHover",!1);b.data("isFlyoutOpen")||b.removeClass("hover")}};if(!phx.util.userAgent.is("ios"))a("#navigation").on(b,d.join(","));a("#navigation [data-ftd-trigger]").wicketLive({"close.ftd":function(){var b=a(this).closest("div.folder");b.data("isHover")||b.removeClass("hover");
b.removeData("isFlyoutOpen")},startAjax:function(){var b=a(this).closest("div.folder");b.addClass("hover");b.data("isFlyoutOpen",!0)}})})(jQuery);(function(a){phx.event.subscribe(phx.events.REFRESH_ANIMATION_START,function(){a(".folder .tools .refresh").addClass("animate")});phx.event.subscribe(phx.events.REFRESH_ANIMATION_STOP,function(){a(".folder .tools .refresh").removeClass("animate")})})(jQuery);(function(a){a("#navigation").on("click",".icon.folder-add",function(){a(this).closest(".nav-item").find(".text.link").click()})})(jQuery);
(function(a){function d(b){var c=a(b).closest(".js-scroll-pane")[0];return b.offsetTop<c.scrollTop+c.clientHeight}var b=a(".folder.active")[0];b&&!d(b)&&b.scrollIntoView&&window.setTimeout(function(){b.scrollIntoView(!1)},0)})(jQuery);
(function(a){function d(a){this.init(a)}d.prototype={drag:{container:null,selector:null,options:null},drop:{container:null,selector:null,options:null},iconClass:"",init:function(b){b.dragContainer&&(this.drag.container=a(b.dragContainer),this.drag.selector=b.dragSelector,this.drag.options=b.dragOptions||{},this.setupDrag());b.dropSelector&&(this.drop.container=a(b.dropContainer),this.drop.selector=b.dropSelector,this.drop.options=b.dropOptions||{},this.setupDrop())},setupDrag:function(){var b=this.drag.options,
c=this.drag.container,d=this.drag.selector,f={limit:a("body"),opacity:.95,cursor:"move",defaultHelper:!0,distance:15,iframeFix:"body"},g=a("body"),h=a.extend({},f,b),k=this,l;for(l in h)if("dragdown"===l||"dragmove"===l||"dragend"===l||"dragover"===l||"dragout"===l)c.on(l,d,h[l]);c.on("draginit",d,function(b,c){c.dndInstance=k;h.draginit&&h.draginit(b,c);h.iframeFix&&a(!0===h.iframeFix?"iframe":h.iframeFix).each(function(){a('\x3cdiv class\x3d"ui-draggable-iframeFix" style\x3d"background: #fff;"\x3e\x3c/div\x3e').css({width:this.offsetWidth+
"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:9999}).css(a(this).offset()).appendTo("body")});if(h.defaultHelper){var d=a('\x3cdiv class\x3d"ftd-box"\x3e\x3cdiv class\x3d"ftd-box-content"\x3e\x3cdiv class\x3d"dnd"\x3e\x3cspan class\x3d"icon-dnd"\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');d.find("span.icon-dnd").after(c.movingElement);d.appendTo(".page");c.representative(d,-15,-5)}g.addClass("dnd-"+h.cursor);h.limit&&c.limit(h.limit)});c.on("dragend",d,function(b,
c){g.removeClass("dnd-"+h.cursor);c.movingElement.remove();!1!==h.iframeFix&&a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)})});if(h.opacity)c.on("draginit",d,function(a,b){b.movingElement.css("opacity",h.opacity)});c.on("dragdown",d,function(a,b){b.distance(h.distance);var c=b.element.get(0);"undefined"!==typeof c.onselectstart?c.onselectstart=function(){return!1}:"undefined"!==typeof c.style.MozUserSelect?c.style.MozUserSelect="none":c.onmousedown=function(){return!1}})},
setupDrop:function(){var a=this.drop.options,c=this.drop.container,d=this.drop.selector,f=this,g,h;for(h in a)if("dropinit"===h||"dropover"===h||"dropout"===h||"dropmove"===h||"dropon"===h||"dropend"===h)c.on(h,d,a[h]);c.on("dropinit",d,function(a,b,c){b.dndInstance=f});g=this.drop.options.hoverClass||"hover";!1!==g&&(c.on("dropover",d,function(a,b,c){b.element.addClass(g)}),c.on("dropout dropend",d,function(a,b,c){b.element.removeClass(g)}));this.drag.options.defaultHelper||(c.on("dropover",d,function(a,
b,c){c.movingElement.find(".icon-dnd").attr("class","").addClass("icon-dnd "+f.icon())}),c.on("dropout",d,function(a,b,c){c.movingElement.find(".icon-dnd").attr("class","").addClass("icon-dnd "+f.icon())}))},icon:function(a){a&&(this.iconClass=a);return this.iconClass}};phx.dnd=phx.dnd||{};phx.dnd.create=function(a){return new d(a)};phx.util.userAgent.is("ios")&&(phx.dnd.create=function(){})})(jQuery);
(function(a){function d(b){return a(b).is(".menu-item")}function b(a,b){b||(b={});b.hasOwnProperty("type")||(b.type=a);phx.event.publish(a,b)}function c(){a("#checkbox-select-all").on("click",function(a){b("mailSelectionRequest",{items:this.checked?"all":"none"})})}phx.event.subscribe(phx.events.FOLDER_SWITCH,c);c();var e=Wicket.Event,f=e.Topic;e.subscribeFor(f.AJAX_CALL_BEFORE_SEND,"toolbarButtonDelete",function(a,c,d){b("mailDeleteRequest",{})});e.subscribeFor(f.AJAX_CALL_BEFORE_SEND,"toolbarButtonSpam",
function(a,c,d){b("mailMoveRequest",{targetFolderId:"spam"})});e.subscribeFor(f.AJAX_CALL_BEFORE_SEND,"toolbarButtonNoSpam",function(a,c,d){b("mailMoveRequest",{targetFolderId:"spam"})});a("#toolbarButtonReply").wicketLive("click",function(a){b("mailReplyRequest",{})});a("#toolbarButtonForward").wicketLive("click",function(a){b("mailForwardRequest",{})});a("#toolbarButtonSendAgain").wicketLive("click",function(a){b("mailResendRequest",{})});a("#selectDropdown").wicketLive("click",function(a){d(a.target)&&
(a=a.target.parentNode.getAttribute("data-filter"))&&b("mailSelectionRequest",{items:a})});a("#replyDropdown").wicketLive("click",function(a){d(a.target)&&b("mailReplyRequest",{})});a("#moveToDropdown").wicketLive("click",function(a){d(a.target)&&b("mailMoveRequest",{targetFolderId:a.target.getAttribute("data-folderid")})});a("#changeViewDropdown").wicketLive("click",function(a){d(a.target)&&phx.ftd.close()})})(jQuery);
(function(a){function d(a){a.addClass("inactive").find("button").prop("disabled",!0)}function b(b){var c=document.getElementById("checkbox-select-all");c&&(c.checked=b.areAllSelected);var e,h,c=b.length;e=a(".widget.menubar ul.button \x3e li");h=e.filter(".prev, .next");e=e.not(h);e.removeClass("inactive").find("button").prop("disabled",!1);0===c?d(e.filter(":not(.no-disable)")):1<c?d(e.filter(".no-multiple")):b.isEncrypted&&(d(e.filter(".forward.split-right")),d(e.filter(".send-again")));b.showMail||
d(h)}function c(a,c,d){b({length:a?0:1,areAllSelected:!1,isFirstSelected:!1,isLastSelected:!1,showMail:c,isEncrypted:d})}phx.event.subscribe(phx.events.TOGGLE_TOOLBAR_DISABLED,function(a){c(!!a.disable,!!a.showMail,!!a.isEncrypted)});phx.event.subscribe(phx.events.MAIL_SELECTION_CHANGED,b);phx.event.subscribe(phx.events.FOLDER_SWITCH,function(){c(!0)})})(jQuery);
(function(a){function d(b){var c=a(".menubar .upsell-link");!0!==b||phx.util.userAgent.is("ios")?c.removeClass("shown"):c.addClass("shown")}function b(){var b,e,f,g;b=a(".menubar");g=b.children(".upsell-link");e=b.children(".button-container.left");f=b.children(".button-container.right");e=e.outerWidth();f=f.outerWidth();b=b.outerWidth();g=g.outerWidth();d(b-e-f-30>g)}a(".menubar .upsell-link").length&&(phx.event.subscribe(phx.events.RESIZE_HANDLED,b),phx.event.subscribe(phx.events.RESIZE_STARTED,
d),phx.event.subscribe(phx.events.FOLDER_SWITCH,b),phx.event.subscribe("domchange",b),b())})(jQuery);
(function(a){function d(){}function b(a){a.hide();a.find("iframe").attr("src",phx.vars.blankUrl)}document.getElementById("mail-list")||["select","selectSection","updateToolbarEnabled"].forEach(function(a){phx[a]=d});var c,e;0===a(".mail-display-wrapper").children(":visible").length&&a(".mail-display-wrapper").hide();phx.event.subscribe(phx.events.MAIL_MOVED,function(a){1===a.mailData.length&&a.mailData[0].mailId===c&&(e=!0)});phx.event.subscribe(phx.events.MAIL_SHOWN,function(b){var d=a(".mail-display-wrapper");
c=b.mailId;e=!0;d.is(":visible")||(d.show(),phx.event.publish("domchange",{target:d}))});phx.event.subscribe(phx.events.MAIL_SELECTION_CHANGED,function(c){e?e=!1:(c=a(".mail-display-wrapper"),0!==c.length&&"none"!==c[0].style.display&&(b(c),phx.event.publish("domchange",{type:"domchange",target:c})))});phx.event.subscribe(phx.events.FOLDER_SWITCH,function(){var c=a(".mail-display-wrapper");c.is(":visible")&&b(c)});phx.event.subscribe(phx.events.DOM_NODE_REMOVING,function(b){a(b.target).hasClass("widget-mail-mail")&&
a(".widget-mail-reply-quick").css({visibility:"hidden"})})})(jQuery);
MailDisplayIFrame=function(a,d,b,c,e){return d({name:"MailDisplayIFrame",mixins:[b,function(){this.isRegistered=!1;this.setIFrameSource=function(a){a&&a.url&&(this.node.src=this.generateFrameUrl(a.url,a.type),this.bindKeyListener(this.node.src))};this.hasIOSTimeoutRaceCondition=function(){return!("safari"!==phx.util.userAgent.browser.family||!phx.util.userAgent.is("ios")||!phx.vars.iOSDisplayMailTimeout)};this.logIframeHrefUndefined=function(){this.hasIOSTimeoutRaceCondition()?e.Log.info("Mailbody URL \x3d\x3d\x3d undefined: Mail (or NMA) has been called after iOS timeout, which lasted "+
phx.vars.iOSDisplayMailTimeout+"ms"):e.Log.info("Mailbody URL \x3d\x3d\x3d undefined: Mail (or NMA) has been called without timeout")};this.bindKeyListener=function(a){var b,c,d;d=this;b=1;c=window.setInterval(function(){50<=b&&clearInterval(c);b++;try{if(a===this.node.contentWindow.location.href)d.bindKeyListenerBroadcast();else if(void 0===this.node.contentWindow.location.href)clearInterval(c),d.logIframeHrefUndefined();else return}catch(l){}clearInterval(c)},100)};this.bindKeyListenerBroadcast=
function(){var a=this.$node.contents();this.on(a,"keydown",this.triggerKeyEventOnDocument)};this.triggerKeyEventOnDocument=function(b){b.target=this.node;a(document).trigger(b)};this.generateFrameUrl=function(a,b){return"nma"===b&&this.isRegistered?this.getNmaUrl(a):a};this.getNmaUrl=function(a){return c.eic.generateUrl(a,this.getEicParams())};this.after("onEicInitialize",function(a){this.isRegistered=this.eicRegisterFrame(this.node);nx&&nx.eicJumpTo&&this.eicRegisterCommand("jumpto",nx.eicJumpTo)});
this.onSrcChange=function(a,b){var c=this;this.hasIOSTimeoutRaceCondition()?window.setTimeout(function(){c.setIFrameSource(b)},phx.vars.iOSDisplayMailTimeout):this.setIFrameSource(b)};this.after("initialize",function(){this.on("onSrcChange",this.onSrcChange)})}]})}(jQuery,defineComponent,mixinEic,phx.util,Wicket);
(function(a){function d(b){var c,d;b?b={length:1,isNma:!0}:(b=a(l.allSelectable),c=b.filter(":checked"),d=a(l.encrypted),b={areAllSelected:0<b.length&&b.length===c.length,length:c.length,isFirstSelected:b.first().is(":checked"),isLastSelected:b.last().is(":checked"),isNma:!1,isEncrypted:0<d.length});b.type="mailSelectionChanged";phx.event.publish("mailSelectionChanged",b)}function b(){var b=a(".iba, .iba-acceptable, .iba-uncertain");b.removeClass("was-marked").filter(".marked").addClass("was-marked");
b.removeClass("selected marked")}function c(){a("#mail-list tr.lastSelection").removeClass("lastSelection")}function e(b,c,d,e){var f=a(b),g=f.closest("tr[data-oao-mailid]");0!==g.length&&(b.checked||!e&&f.hasClass("selected")?(g.addClass("marked"),c&&c.checked?g.removeClass("marked-first"):g.addClass("marked-first"),d&&d.checked?g.removeClass("marked-last"):g.addClass("marked-last")):g.removeClass("marked marked-first marked-last"))}function f(b){var c,d;c=a(l.allSelectable);c.closest("tr").removeClass("marked marked-first marked-last");
b=b.isNma?a(".iba.selected,.iba-acceptable.selected,.iba-uncertain.selected").get(0):a(l.selected).get(0);c=c.filter(":visible");d=a.inArray(b,c);e(b,c[d-1],c[d+1],!1)}function g(b){var c;1===b.length?f(b):(c=a(l.all).filter(":visible"),c.each(function(a){e(this,c[a-1],c[a+1],!0)}))}function h(b,c){var d=[],e;b.each(function(){var b=a(this).closest("tr");e={unread:b.hasClass("new"),important:b.hasClass("starred"),mailId:b.attr("data-oao-mailid"),folderId:b.attr("data-folderid")};e.targetFolderId=
c;d.push(e)});return d}function k(b){var c,e;b&&b.hasOwnProperty("mailId")?(c=a("#mail-list tr[data-oao-mailid\x3d"+b.mailId+"]"),e=c.hasClass("marked")):b&&b.hasOwnProperty("mailIds")?(e=b.mailIds.map(function(a){return"#mail-list tr[data-oao-mailid\x3d"+a+"]"}),c=a(e.join(",")),e=c.hasClass("marked")):(c=a(l.selected).closest("tr"),e=!0);b=h(c,b&&b.targetFolderId);c.remove();phx.event.publish(phx.events.MAIL_MOVED,{type:phx.events.MAIL_MOVED,mailData:b});a(l.all);b=a(l.selected).filter(":visible");
c=a(l.allSelectable).filter(":visible");(e||c.length===b.length)&&d()}var l={all:"#mail-list tbody input:checkbox",allSelectable:"#mail-list tbody td input:checkbox",unread:"#mail-list tr.new td input:checkbox",read:"#mail-list tr:not(.new) td input:checkbox",selected:"#mail-list tbody td input:checked",unselected:"#mail-list tbody td input:checkbox:not(:checked)",encrypted:"#mail-list tr.encrypted td input:checkbox:checked"};phx.event.subscribe(phx.events.TRIGGER_MAIL_SELECTION_CHANGED,function(){b()});
document.getElementById("mail-list")&&(phx.event.subscribe(phx.events.TRIGGER_MAIL_SELECTION_CHANGED,d),phx.event.subscribe(phx.events.MAIL_SELECTION_CHANGED,g),phx.event.subscribe(phx.events.MAIL_MOVE_REQUEST,k),phx.event.subscribe(phx.events.MAIL_DELETE_REQUEST,k),phx.event.subscribe(phx.events.MAIL_SHOWN,function(e){var f=a("[data-oao-mailid\x3d"+e.mailId+"]");e=f.is(".iba, .iba-acceptable, .iba-uncertain");a(l.all).filter(":checkbox").prop("checked",!1);b();var g;e?f.addClass("selected"):(g=f.find("input:checkbox").first(),
g.prop("checked",!0),c(),f.addClass("lastSelection"));f.removeClass("new");f=a(f).closest("tr");g=f.closest(".js-scroll-pane")[0];f=f[0];f.offsetTop+f.offsetHeight+17>g.clientHeight+g.scrollTop?g.scrollTop=f.offsetTop+f.offsetHeight+17-g.clientHeight:f.offsetTop+10<g.scrollTop&&(g.scrollTop=f.offsetTop);d(e)}),phx.event.subscribe(phx.events.MAIL_SELECTION_REQUEST,b),d());phx.select=function(b){if(b in l||"none"===b)"all"!==b&&a(l.all).prop("checked",!1),"none"!==b&&a(l[b]).prop("checked",!0),c(),
d()};phx.selectSection=function(a,b){var c=b.find("tr[data-oao-mailid] input:checkbox");a.checked?c.prop("checked",!0):c.prop("checked",!1)}})(jQuery);(function(a){var d,b;d=a("#panel-mail-table");if(0<d.find("th input.checkbox-select-section").length)d.on("click","th input.checkbox-select-section",function(c){b=a(this).closest("tbody");phx.selectSection(c.target,b);phx.event.publish(phx.events.TRIGGER_MAIL_SELECTION_CHANGED)})})(jQuery);
(function(a){phx.event.subscribe(phx.events.MAIL_SELECTION_CHANGED,function(d){a("#mail-list tbody").each(function(){var b,c;b=a(this);c=b.find("th input:checkbox");b=b.find("td input:checkbox");1===c.length&&0<b.length&&c.prop("checked",b.length===b.filter(":checked").length)})})})(jQuery);(function(a){phx.event.subscribe(phx.events.TOGGLE_FLAGGED,function(d){a("#mail-list").find(d.target).find(".icon.mail-star").trigger("click")})})(jQuery);
(function(a){var d;a.fn.phxStoreScrollTop=function(){d=a("#mail-list")[0].parentNode.scrollTop};a.fn.phxRestoreScrollTop=function(){a("#mail-list")[0].parentNode.scrollTop=d}})(jQuery);(function(a){phx.isClickableMailListColumn=function(d){return 0===a(d.target).closest(".slct, .folder-section, tfoot, tr.drag").length&&!d.shiftKey&&!d.ctrlKey}})(jQuery);
(function(a){phx.MailRow=function(d){this.$row=a(d).eq(0);this.selector=d;(this.selected=this._selected=this.$row.hasClass("marked"))?(this.isFirst=this._isFirst=this.$row.hasClass("marked-first"),this.isLast=this._isLast=this.$row.hasClass("marked-last")):this.isLast=this._isLast=this.isFirst=this._isFirst=!1;this.isRead=this._isRead=!this.$row.hasClass("new");this.isImportant=this._isImportant=this.$row.find(".mail-star").hasClass("starred");this.setSelected=function(a,c){var b;this.selected=a;
this.selected===this._selected||c||(this.selected?(0<this.$row.prev().length?(b=new phx.MailRow("#"+this.$row.prev().attr("id")),b.getSelected()?(this.setFirst(!1),b.setLast(!1)):this.setFirst(!0)):this.setFirst(!0),0<this.$row.next().length?(b=new phx.MailRow("#"+this.$row.next().attr("id")),b.getSelected()?(this.setLast(!1),b.setFirst(!1)):this.setLast(!0)):this.setLast(!0),this.$row.addClass("marked"),this.setCheckbox(!0)):(this.setFirst(!1),this.setLast(!1),0<this.$row.prev().length&&(b=new phx.MailRow("#"+
this.$row.prev().attr("id")),b.getSelected()&&b.setLast(!0)),0<this.$row.next().length&&(b=new phx.MailRow("#"+this.$row.next().attr("id")),b.getSelected()&&b.setFirst(!0)),this.$row.removeClass("marked marked-first marked-last"),this.setCheckbox(!1)),this._selected=this.selected)};this.setCheckbox=function(a){this.$row.find(".slct input").attr("checked",a)};this.setFirst=function(a){(this.isFirst=a)?this.$row.addClass("marked-first"):this.$row.removeClass("marked-first")};this.setLast=function(a){(this.isLast=
a)?this.$row.addClass("marked-last"):this.$row.removeClass("marked-last")};this.setRead=function(a,c){this.isRead=a;if(this.isRead!==this._isRead||!0===c)this.isRead?(this.$row.removeClass("new"),this.$row.find(".mail-mark").removeClass("marked")):(this.$row.addClass("new"),this.$row.find(".mail-mark").addClass("marked")),this._isRead=this.isRead};this.setImportant=function(a,c){this.isImportant=a;if(this.isImportant!==this._isImportant||!0===c)this.isImportant?this.$row.find(".mail-star").addClass("starred"):
this.$row.find(".mail-star").removeClass("starred")};this.getSelected=function(){return this.selected};this.getFirst=function(){return this.isFirst};this.getLast=function(){return this.isLast};this.getRead=function(){return this.isRead};this.getImportant=function(){return this.isImportant};this.restoreState=function(b){b&&(this.$row=a(a(this.selector)[0]));this.selected?(this.$row.addClass("marked"),this.setCheckbox(!0),this.setFirst(this.isFirst),this.setLast(this.isLast)):(this.setCheckbox(!1),
this.$row.removeClass("marked"),this.setFirst(!1),this.setLast(!1));this.setRead(this.isRead,!0);this.setImportant(this.isImportant,!0)}}})(jQuery);
(function(a){var d={selectedMails:[],store:function(){var a=d.getSelectedRows();d.resetStore();0<a.length&&a.each(function(){d.selectedMails.push({mailID:this.getAttribute("data-oao-mailid")})})},restore:function(a){a&&a.id&&(d.resetStore(),d.selectedMails.push({mailID:a.id}));d.hasSelection()&&(d.selectReloadedRows(),d.resetCheckboxState(),d.resetStore())},getSelectedRows:function(){return a("#mail-list").find("tr.marked")},getReloadedRows:function(){var b=[],c,e;c=0;for(e=d.selectedMails.length;c<
e;c++)b.push('tr[data-oao-mailid\x3d"'+d.selectedMails[c].mailID+'"]');return a("#mail-list").find(b.join(","))},selectReloadedRows:function(){var b,c;return d.getReloadedRows().each(function(){c=a(this).attr("id");b=new phx.MailRow("#"+c);b.setSelected(!0)})},resetCheckboxState:function(){return a("#mail-list tr:not(.marked) input:checked").removeAttr("checked")},resetStore:function(){d.selectedMails=[]},hasSelection:function(){return 0<d.selectedMails.length}};phx.event.subscribe(phx.events.STORE_SELECTION,
d.store);phx.event.subscribe(phx.events.RESTORE_SELECTION,d.restore)})(jQuery);
(function(a){function d(b){phx.util.userAgent.is("ios")||(b=a(b),phx.util.userAgent.is("webkit")&&b.removeClass("hover"),b.find("#hoverMenu").remove())}var b={r:"reply",o:"open",d:"delete"},c;document.getElementById("hoverMenu")&&(c=a("#hoverMenu").parent().html(),a("#hoverMenuWrp").hide(),a("#hoverMenu").hide().attr("id","hoverMenuOri"),a(document).on({mouseenter:function(){var d=a(this),f,g=a(c);if(!phx.util.userAgent.is("ios")){f=d.attr("data-hovermenu-hide");var h,k;if("string"===typeof f)for(f=
f.split(""),h=0;h<f.length;h++)k=b[f[h]],a(g.find('li[data-oao-hover\x3d"'+k+'"]')).hide();f=d.find(".tool");phx.util.userAgent.is("webkit")&&d.addClass("hover");f.prepend(g.css("display","block"))}},mouseleave:function(){d(this)}},"#maillist tr"),phx.event.subscribe(phx.events.DOM_NODE_REMOVING,function(a){"TR"===a.target.nodeName&&d(a.target)}))})(jQuery);
(function(a){var d=a("#panel-mail-table");d.on("click","tr[data-oao-mailid] input[type\x3dcheckbox]",function(b){b.shiftKey||(a("#mail-list tr.lastSelection").removeClass("lastSelection"),a(this).parents("tr").addClass("lastSelection"),phx.event.publish(phx.events.TRIGGER_MAIL_SELECTION_CHANGED),b.stopPropagation())});d.on("click","tr[data-oao-mailid]",function(b){var c,d,f,g;c=a(this).find("td:first input[type\x3dcheckbox]");b.ctrlKey&&!a(this).hasClass("drag")&&b.target!==c.get(0)&&(c.attr("checked",
!c.attr("checked")),phx.event.publish(phx.events.TRIGGER_MAIL_SELECTION_CHANGED),a("#mail-list tr").removeClass("lastSelection"),a(this).addClass("lastSelection"),b.stopPropagation());if(b.shiftKey){d=a("#mail-list tr.lastSelection");0===d.length&&(d=a("#mail-list tr:has(td):first"));b.target===c.get(0)&&c.attr("checked",!0);c=a("#mail-list tr[data-oao-mailid]");d=c.index(d.get(0));f=c.index(b.currentTarget);c.find("td:first input[type\x3dcheckbox]").attr("checked",!1);d=d<=f?c.slice(d,f+1):c.slice(f,
d+1);f=0;for(g=d.length;f<g;f++)c=d[f],c=a(c).find("td:first input[type\x3dcheckbox]"),c.attr("checked",!0);phx.event.publish(phx.events.TRIGGER_MAIL_SELECTION_CHANGED);b.stopPropagation()}})})(jQuery);(function(a){if(phx.util.userAgent.is("ios")){var d=phx.util.colors.mailTableHover().bgColor();phx.event.subscribe(phx.events.MAIL_SELECTED,function(b){a(b.target).closest("tr").css("background-color",d)})}})(jQuery);
(function(a){function d(a,b){b||(b={});b.hasOwnProperty("type")||(b.type=a);phx.event.publish(a,b)}var b=a("#mail-list");phx.event.subscribe(phx.events.MAIL_SELECTION_REQUEST,function(a){a.hasOwnProperty("items")&&phx.select(a.items)});b.on("click","td input[type\x3dcheckbox]",function(b){var c=a(this).closest("tr");c.hasClass("new");c.hasClass("starred");b=c.attr("data-oao-mailid");c.attr("data-folderid");d(this.checked?"mailSelectionRequest":"mailDeselectionRequest",{mailIds:[b]})});b.on("click",
"th input[type\x3dcheckbox]",function(a){d(this.checked?"mailSelectionRequest":"mailDeselectionRequest")})})(jQuery);
(function(a){var d=a("#section-0 .js-scroll-pane");phx.dnd.create({dragContainer:"#panel-mail-table",dragSelector:"tr[data-oao-mailid]:not(.iba, .iba-acceptable, .iba-uncertain)",dragOptions:{draginit:function(b,c){var e=c.element.find("td:first input[type\x3dcheckbox]"),f=0,g=[];e.attr("checked")||(b.ctrlKey||phx.event.publish(phx.events.MAIL_SELECTION_REQUEST,{items:"none"}),e.attr("checked",!0),phx.event.publish(phx.events.TRIGGER_MAIL_SELECTION_CHANGED),a(c.element).addClass("lastSelection"));
a("#mail-list tr.marked").each(function(b,c){f++;g.push(a(c).data("oao-mailid"))});c.mails=g;c.movingElement=1!==f?i18n.getString("dragdrop.mail.move.many",[g.length]):i18n.getString("dragdrop.mail.move.one");c.scrolls(d.get(0));c.element.addClass("drag")},dragend:function(a,c){var b=c.element;c.movingElement.remove();phx.util.nextTick(function(){b.removeClass("drag")})}},dropContainer:"#section-0",dropSelector:".folder",dropOptions:{accept:"#mail-list tr[data-oao-mailid]",dropover:function(a,c,e){var b=
c.element;a=b.offset();c=d.offset();a=a.top+b.height()<d.height()+c.top&&a.top>c.top;!b.hasClass("active")&&a&&b.hasClass("droppable")?e.dndInstance.icon("ok"):e.dndInstance.icon("abort");b.data("timeout",setTimeout(function(){phx.navigation.getFolder(b.data("folderid")).open()},750))},dropout:function(a,c,d){d.dndInstance.icon("abort");clearTimeout(c.element.data("timeout"));c.element.removeData("timeout")},dropon:function(a,c,d){var b;a=c.element;void 0!==a.data("folderid")&&"ok"===d.dndInstance.icon()&&
(a=a.data("folderid"),b=d.mails.map(function(a){return{name:"mailid",value:a}}),b.unshift({name:"folderid",value:a}),Wicket.Ajax.post({u:phx.getVar("maildrop.callbackUrl"),dep:[function(a){return b}]}))}}})})(jQuery);(function(a){a("#panel-mail-table.panel-mail-display-table-mail-vertical").on("click",".paging .area",function(){this.blur()})})(jQuery);
(function(a){function d(a,d){if(!0===b&&!0!==d&&a!==c)if(c=a,e)e=!1;else if("string"!==typeof a||""===a)window.history&&history.pushState||history.back();else{var f=phx&&"object"===typeof phx.vars&&"string"===typeof phx.vars.historyCallbackUrl?phx.vars.historyCallbackUrl+a:null;null!==f&&Wicket.Ajax.get({u:f})}}var b=!1,c,e;"object"!==typeof a.history&&(a.history={});e=!1;a.history.changeHash=function(b){e=!0;a.history.load(b,!1);window.history&&history.pushState&&d(b,!1)};(function(b){"string"===
typeof b&&""!==b&&(e=!0,a.history.load(b,!0))})(phx.vars.initialHistoryState);a.history.init(d,{unescape:"/"});b=!0})(jQuery);
(function(a){function d(a){m.find(".js-selection-count").text(a)}function b(a){1===a.mailData.length&&a.mailData[0].mailId===k&&(l=!0)}function c(){a(".pgp-empty-preview-teaser").trigger("pgp-empty-preview-teaser/show");r.hide();m.show()}function e(a){a=a.length;l?l=!1:(n?(m.hide(),r.show()):(c(),d(a)),n=!1)}function f(){c();d(0)}function g(a){n=!0;k=a.mailId}function h(a){l=!1;e({length:0})}var k,l,m,r,n;n=!1;m=a(".system-folder-message");r=a(".mail-display-wrapper");0<m.length&&(phx.event.subscribe(phx.events.MAIL_MOVED,
b),phx.event.subscribe(phx.events.MAIL_SELECTION_CHANGED,e),phx.event.subscribe(phx.events.RESET_MAILLIST_SELECTION,f),phx.event.subscribe(phx.events.MAIL_SHOWN,g),phx.event.subscribe(phx.events.FOLDER_SWITCH,h))})(jQuery);
(function(a){function d(b){var c;(c=b.getAttribute("data-address-parts"))||(c="|",a(b).find(".js-filter-by").each(function(){var b,d;b=a(this).text().trim().toLowerCase();d=[b];[" ","@",".","-","_"].forEach(function(a){-1!==b.indexOf(a)&&(d=d.concat(b.split(a)))});c+=d.join("|")+"|"}),b.setAttribute("data-address-parts",c));return c}function b(b){var c,d;c=a(this);b=c.find(".email").text().trim();d=c.find(".name").text().trim();c=c.find(".group-title").text().trim();b={email:b,name:d,groupTitle:c,
address:c?d:b!==d?'"'+d+'" \x3c'+b+"\x3e":b};(b.email||b.name)&&a(document).trigger("addresschooser/recipient/add",b)}function c(a,b){var c,d;c=a.innerHTML.replace(/<\/?b>/gi,"");b&&(d=new RegExp("\\b"+b.replace(/([.?*+\^$\[\]\\(){}\-])/g,"\\$1"),"gi"),c=c.replace(d,function(a){return"\x3cb\x3e"+a+"\x3c/b\x3e"}));a.innerHTML=c}function e(a){var b;b=a.closest(".js-scroll-pane")[0];a=a[0];a.offsetTop+a.offsetHeight+10>b.clientHeight+b.scrollTop?b.scrollTop=a.offsetTop+a.offsetHeight+10-b.clientHeight:
a.offsetTop+10<b.scrollTop&&(b.scrollTop=a.offsetTop)}function f(){phx.ftd.close("addresschooser")}function g(c){var d=a(".addressbook-suggest li"),g=d.filter(".selected");switch(c){case 38:g.prevAll(":visible").length&&g.removeClass("selected").prevAll(":visible").eq(0).addClass("selected");e(d.filter(".selected"));break;case 40:g.nextAll(":visible").length&&g.removeClass("selected").nextAll(":visible").eq(0).addClass("selected");e(d.filter(".selected"));break;case 27:f();break;case 13:b.call(d.filter(".selected:visible")[0]),
k()}}function h(b){var e,f;f=b.keyCode;b=a(".addressbook-suggest").find("li");e=this.value?this.value.trim().toLowerCase():"";-1!==[13,27,38,40].indexOf(f)?g(f):(b.css("display",e?function(){return 0<=d(this).indexOf("|"+e.toLowerCase())?"":"none"}:""),b.each(function(){a(this).find(".js-filter-display").each(function(){c(this,e)})}),b.removeClass("selected"),b.filter(":visible").eq(0).addClass("selected"))}var k;k=function(){var b=a("#addresschooser input")[0];b.value="";h.call(b,{keyCode:"fake"})};
a("[data-ftd-trigger\x3daddresschooser]").wicketLive("open.ftd",function(){var c=a("#addresschooser");a(document).trigger("addresschooser/open");c.data("initialized")||(c.on("keyup","input",h),c.on("click","li",b),c.data("initialized",!0));c.data("MailObjectPanelObjectivationLabel",this);k();a(document).on("addresschooser/close",f)})})(jQuery);
(function(a,d,b){function c(a){"number"!==typeof a&&(a=-1);return 0<=a?a:-1}function e(a,b){a=c(a);b=c(b);return 0<a&&0<b&&a>b&&12E4>a-b?a-b:-1}function f(a){return(a=/uc=([^&]*)/i.exec(a))&&a[1]||"NONE"}function g(){var a=document.location.pathname;if(!a||/^\/?\w{1,}:\/.*/.test(a))return null;-1<a.indexOf("jsessionid")&&(a=a.replace("%3B",";"),a=a.substring(0,a.indexOf(";jsessionid")));return a}function h(b){!m&&b.url&&-1<c(b.total)&&(m=!0,b.hasCommercials=r,b.group=a.getVar("nmaGroup"),d.ajax({url:a.getVar("statistics.perf.callback"),
cache:!1,type:"POST",timeout:3E3,data:b,complete:function(){m=!1}}))}function k(){var a;a="object"===typeof window.performance?window.performance.timing:{};a={total:e(a.loadEventEnd||a.loadEventStart,a.navigationStart),network:e(a.requestStart,a.navigationStart),dns:e(a.domainLookupEnd,a.domainLookupStart),tcp:e(a.connectEnd,a.connectStart),redirect:e(a.redirectEnd,a.redirectStart),server:e(a.responseStart,a.requestStart),response:e(a.responseEnd,a.responseStart),client:e(a.loadEventEnd||a.loadEventStart,
a.responseEnd),domload:e(a.domContentLoadedEventStart,a.domLoading),domrender:e(a.domComplete,a.domContentLoadedEventStart),interactive:e(a.domInteractive,a.domLoading),type:window.performance.navigation.type};a.url=g();a.usecase=f(document.location.search);h(a)}function l(){var a=0,c=null,d=b.Event,e=d.Topic;d.subscribe(e.AJAX_CALL_BEFORE_SEND,function(b,d,e,f){a=(new Date).getTime();c=d.u});d.subscribe(e.AJAX_CALL_COMPLETE,function(b,d,e,q){var B=(new Date).getTime()-a;c=c||"";setTimeout(function(){var a=
c,b,d,e;b=f(a);d=g();e=a.indexOf("IBehaviorListener");-1<e?(a=a.substring(e+17+1,a.indexOf("\x26")).replace(/[0-9]+\-/g,""),a=d+"/"+a):a=d;h({url:a,total:B,ajax:!0,usecase:b,type:0})},50)})}var m=!1,r=function(){var a=d("html");return a.hasClass("can-have-sky")&&!a.hasClass("no-sky")||a.hasClass("can-have-adb")&&!a.hasClass("no-adb")||a.hasClass("can-have-rect")&&!a.hasClass("no-rect")}(),n;(function(){var b=a.getVar("statistics.perf.callback")||"off";return b&&"off"!==b})()&&("object"===typeof window.performance?
d(window).load(function(){setTimeout(k,0)}):(n=c(d.cookie("unloadtimer")),0<n&&d(window).load(function(){var a=e((new Date).getTime(),n);h({url:g(),total:a,ajax:!1,type:0})}),d(window).bind("onbeforeunload",function(){d.cookie("unloadtimer",(new Date).getTime(),{secure:!0})})),l())})(phx,jQuery,Wicket);"object"!==typeof phx.statistics&&(phx.statistics={});
(function(a){function d(a,b,c){var f;"/"===a.charAt(0)&&(a=a.substring(1));f={section:a};b===e&&(f.type="event");c.labels&&(f.label=JSON.parse(c.labels));c.modifier&&(f.modifier=c.modifier);c.tif_options&&(f.tif_options=JSON.parse(c.tif_options));phx.iac?phx.iac.notify("tracking_track",f):k||(k=!0,window.setTimeout(function(){d(a,b,c);k=!1},h))}function b(a,b){g={id:a,data:b};var c=a.replace(/\./gi,"/"),e=b;c&&(e||(e={labels:""}),d(c,f,e))}function c(a,b){a||(a="/missingEventID");window.setTimeout(function(){var c=
b;a&&(c||(c={labels:""}),d(a,e,c))},50)}var e,f,g,h,k;e="event";f="pi";h=1E3;k=!1;phx.statistics.trackPageImpression=b;phx.statistics.trackLastPageImpressionAgain=function(){g&&b(g.id,g.data)};phx.statistics.trackEvent=c;a(document).on("trackEvent.statistics",function(a,b,d){c(b,d)})})(jQuery);
(function(a){phx.ajaxEditableSubmit={isSave:function(d){var b=!1;if(d=a.event.fix(d))"blur"===d.type?b=!0:"keydown"===d.type&&13===d.keyCode&&(b=!0),a.data(d.target,"handler-deactivated",!0);return b},reactivateHandlers:function(d){d=document.getElementById(d);a.data(d,"handler-deactivated",!1);d.select();d.focus()}}})(jQuery);
(function(a){var d=["#editorStartupFailedLink","#editorStartupTimeoutLink","#reopenLastComposeLink"];phx.showDebugTools=function(){var b=a('\x3cdiv id\x3d"debugTestContainer"\x3e\x3c/div\x3e'),c,e=d.length,f;for(c=0;c<e;c++)f=a(d[c]),0<f.length&&(f.removeClass("is-hidden"),b.append(f));a("body").append(b)}})(jQuery);
Button=function(a,d,b,c){return d({name:"Button",mixins:[b,function(){this.toggle=function(){this.$node.toggleClass(c.IS_DISABLED);this.isDisabled()?this.disableBehavior():this.enableBehavior()};this.disable=function(a){a.stopPropagation();this.isDisabled()&&(this.isAlreadyDisabled=!0);this.$node.addClass(c.IS_DISABLED);this.disableBehavior()};this.enable=function(a){a.stopPropagation();this.isAlreadyDisabled?this.isAlreadyDisabled=!1:(this.$node.removeClass(c.IS_DISABLED),this.enableBehavior())};
this.enableBehavior=function(){this.node.disabled=!1};this.disableBehavior=function(){this.node.disabled=!0};this.isDisabled=function(){return this.$node.hasClass(c.IS_DISABLED)};this.isEnabled=function(){return!this.isDisabled()};this.initializePseudoClass=function(){this.$node.pseudoClassify({hover:!0,active:!0})};this.after("initialize",function(){this.initializePseudoClass();this.on(this.getNameSpacedEventName("disable"),this.disable);this.on(this.getNameSpacedEventName("enable"),this.enable);
this.on(this.getNameSpacedEventName("toggle"),this.toggle)})}]})}(jQuery,defineComponent,mixinFlyout,CssUtils.modifier);
ButtonGroup=function(a,d){return d({name:"ButtonGroup",mixins:function(){this.defaultAttrs({buttonSelector:".m-button"});this.disable=function(){this.select("buttonSelector").trigger("disable")};this.enable=function(){this.select("buttonSelector").trigger("enable")};this.after("initialize",function(){this.on(this.getNameSpacedEventName("disable"),this.disable);this.on(this.getNameSpacedEventName("enable"),this.enable)})}})}(jQuery,defineComponent);
ButtonLink=function(a,d,b){return d({name:"ButtonLink",parent:b,mixins:function(){this.disableBehavior=function(){this.on("click",this.preventLinkClickHandler)};this.enableBehavior=function(){this.off("click",this.preventLinkClickHandler)};this.preventLinkClickHandler=function(a,b){a.preventDefault()}}})}(jQuery,defineComponent,Button);
ButtonCheckable=function(a,d,b){return d({name:"ButtonCheckable",parent:b,mixins:function(){this.defaultAttrs({checkboxSelector:".button-checkable_checkbox"});this.disableBehavior=function(){this.select("checkboxSelector").prop("disabled",!0)};this.enableBehavior=function(){this.select("checkboxSelector").prop("disabled",!1)};this.onClick=function(b){!a(b.target).is(":checkbox")&&this.isEnabled()&&this.toggleCheckbox()};this.toggleCheckbox=function(){this.isChecked()?this.uncheck():this.check()};
this.isChecked=function(){return this.select("checkboxSelector").is(":checked")};this.isUnchecked=function(){return!this.isChecked()};this.check=function(){this.select("checkboxSelector").prop("checked",!0)};this.uncheck=function(){this.select("checkboxSelector").prop("checked",!1)};this.after("initialize",function(){this.on(this.getNameSpacedEventName("click"),this.onClick)})}})}(jQuery,defineComponent,Button);
ProgressBar=function(a,d){return d({name:"ProgressBar",mixins:[function(){this.defaultAttrs({value:0,bar:".progressbar_indicator",label:".progressbar_label"});this.createCssPercentValue=function(a){return 0<=a&&100>=a?a+"%":null};this.updateValue=function(a){this.select("label").html(a)};this.updateBarSize=function(a){this.select("bar").css("width",a)};this.onUpdate=function(a,c){var b=this.createCssPercentValue(c.percent);b&&(this.updateBarSize(b),this.updateValue(b))};this.after("initialize",function(){this.on("update.progressbar",
this.onUpdate);this.updateValue(this.createCssPercentValue(this.attr.value))})}]})}(jQuery,defineComponent);IconLink=function(a){return a({name:"IconLink",mixins:[function(){this.after("initialize",function(){this.$node.pseudoClassify({hover:!0})})}]})}(defineComponent);Textfield=function(a,d){return d({name:"Textfield",mixins:function(){this.initializePseudoClass=function(){this.$node.pseudoClassify({focus:!0})};this.after("initialize",function(){this.initializePseudoClass()})}})}(jQuery,defineComponent);
TextareaCounter=function(a,d,b){return d({name:"TextareaCounter",mixins:function(){this.cache={lineBreaks:void 0,value:void 0};this.defaultAttrs({textarea:".form-element-textarea",charcount:".js-textarea-char-count",maxlength:50});this.onInput=function(a){this.resetCache();this.getLength()>this.getMaxLength()?this.cropValue():this.updateCounterValue()};this.resetCache=function(){this.cache.lineBreaks=void 0;this.cache.value=void 0};this.cropValue=function(){var a=this.getValue().substring(0,this.getMaxLength()-
this.getEnterCount());this.setValue(a)};this.countLineBreaksInString=function(a){a=a.match(/\n/g);return null!==a?a.length:0};this.getLength=function(){return this.getValue().length+this.getEnterCount()};this.getEnterCount=function(){void 0===this.cache.lineBreaks&&(this.cache.lineBreaks=this.countLineBreaksInString(this.getValue()));return this.cache.lineBreaks};this.getValue=function(){void 0===this.cache.value&&(this.cache.value=this.textarea.val());return this.cache.value};this.getMaxLength=function(){return this.attr.maxlength};
this.setValue=function(a){this.textarea.val(a)};this.updateCounterValue=function(){this.charcount.text(this.getMaxLength()-this.getLength())};this.hasOnInputSupport=function(){return document.body.hasOwnProperty("oninput")};this.getSupportedEvents=function(){return this.hasOnInputSupport()?"input":"keyup change"};this.after("initialize",function(){this.textarea=this.select("textarea");this.charcount=this.select("charcount");this.on(this.getSupportedEvents(),this.onInput)})}})}(jQuery,defineComponent,
phx.util);
FormElementList=function(a,d){return d({name:"FormElementList",mixins:[function(){this.defaultAttrs({formListItem:".form-composite-list_item",bulletElement:".form-element-radio, .form-element-checkbox"});this.onFormElementClick=function(b,c){var d=a(c.el).find(this.attr.bulletElement);!this.hasBulletElement(d)||this.isBulletElement(b.target)||this.hasForRelation(b.target)||(b.preventDefault(),d.prop("checked",!0))};this.hasBulletElement=function(a){return 0<a.length};this.hasForRelation=function(b){return a(b).attr("for")?
!0:!1};this.isBulletElement=function(b){return a(b).is(this.attr.bulletElement)?!0:!1};this.after("initialize",function(){this.on("click",{formListItem:this.onFormElementClick})})}]})}(jQuery,defineComponent);
(function(a,d){a.datepicker.setDefaults(a.datepicker.regional[d.locale()]={closeText:d.getString("datePickerCloseText"),prevText:d.getString("datePickerPrevText"),nextText:d.getString("datePickerNextText"),currentText:d.getString("datePickerCurrentText"),monthNames:d.getStringList("dateMonthNames"),monthNamesShort:d.getStringList("dateMonthNamesShort"),dayNames:d.getStringList("dateDayNames"),dayNamesShort:d.getStringList("dateDayNamesShort"),dayNamesMin:d.getStringList("dateDayNamesShort"),weekHeader:d.getString("datePickerWeekHeader"),
firstDay:1})})(jQuery,i18n);
DatePickerPeriod=function(a,d){d({name:"DatePickerPeriod",mixins:[function(){this.defaultAttrs({selectTrigger:"select.date",compositeFromFieldSelector:".form-composite-datepicker-period_from",compositeToFieldSelector:".form-composite-datepicker-period_to",datepickerSelector:".form-composite-datepicker_input",checkableElementSelector:".form-element-checkbox, .form-element-radio"});this.setMinDate=function(a,c){this.getDatepickerInstance(a).datepicker("option","minDate",c)};this.getDatepickerInstance=
function(a){return this.select(a).find(this.attr.datepickerSelector)};this.onFromDateSelect=function(a,c){this.setMinDate("compositeToFieldSelector",c.date)};this.onDateSelect=function(a,c){this.selectCheckableItem()};this.selectCheckableItem=function(){this.select("checkableElementSelector").prop("checked",!0)};this.after("initialize",function(){this.on(this.attr.selectTrigger,this.onDateSelect);this.on(this.attr.selectTrigger,{compositeFromFieldSelector:this.onFromDateSelect})})}]})}(jQuery,defineComponent);
DatePicker=function(a,d,b){return d({name:"DatePicker",mixins:[function(){this.defaultAttrs({textfield:".form-composite-datepicker_input",icon:".form-composite-datepicker_icon",caseBottomLeft:"bottom-left",caseBottomRight:"bottom-right",caseTopLeft:"top-left",caseTopRight:"top-right",onSelectEventName:"select.date",inputDistance:4,position:"bottom-left",minDate:void 0,maxDate:void 0});this.initializePseudoClass=function(){this.$node.pseudoClassify({hover:!0})};this.initializeDatePicker=function(){this.select("textfield").datepicker({minDate:this.attr.minDate,
maxDate:this.attr.maxDate,dateFormat:this.attr.dateFormat,beforeShow:this.beforeShow.bind(this),onClose:this.onClose.bind(this),onSelect:this.onSelection.bind(this)});this.select("icon").css("pointer-events","none")};this.onClose=function(){this.$node.removeClass(b.HAS_OPEN_FLYOUT)};this.beforeShow=function(a,d){this.$node.addClass(b.HAS_OPEN_FLYOUT);this.adjustFlyoutPosition(d)};this.onSelection=function(a,b){this.$node.trigger(this.attr.onSelectEventName,{date:a})};this.onIconClick=function(a){setTimeout(function(){this.select("textfield").datepicker("show")}.bind(this),
0)};this.adjustFlyoutPosition=function(a){var b=a.dpDiv,c=a.input,d=this.attr.inputDistance;setTimeout(function(){var a=c.offset(),e=b.offset();b.css({marginTop:a.top<e.top?d:-d,zIndex:200})},0)};this.after("initialize",function(){this.initializePseudoClass();this.initializeDatePicker();this.on("click",{icon:this.onIconClick})})}]})}(jQuery,defineComponent,CssUtils.modifier);
Objectivation=function(a,d,b){return d({name:"Objectivation",mixins:[b,function(){this.defaultAttrs({actionSelector:".js-action",deleteElement:".objectivation_icon-delete",nameSelector:".objectivation_name"});this.triggerAction=function(a){a.stopPropagation();this.isDeleteTrigger(a.target)&&this.trigger("deleteObject")};this.isDeleteTrigger=function(b){return 0<a(b).closest(this.attr.actionSelector).has(this.attr.deleteElement).length};this.setName=function(a,b){this.select("nameSelector").text(b)};
this.initializePseudoClass=function(){var a={hover:!0};this.$node.pseudoClassify(a);this.select("actionSelector").pseudoClassify(a)};this.after("initialize",function(){this.on("click",{actionSelector:this.triggerAction});this.initializePseudoClass();this.on("setName",this.setName)})}]})}(jQuery,defineComponent,mixinFlyout);
ObjectivationAddressButtonWrite=function(a,d,b,c){return d({name:"ObjectivationAddressButtonWrite",parent:b,mixins:[function(){this.onSelect=function(){this.$node.addClass(c.IS_SELECTED);this.$node.focus()};this.onUnselect=function(){this.$node.removeClass(c.IS_SELECTED)};this.setUnselectable=function(){this.$node.attr("unselectable","on");this.$node.addClass("unselectable");this.$node.on("selectstart",!1)};this.after("initialize",function(){this.setUnselectable();this.on("select",this.onSelect);
this.on("unselect",this.onUnselect)})}]})}(jQuery,defineComponent,Objectivation,CssUtils.modifier);AttachmentButton=function(a,d,b){return d({name:"AttachmentButton",parent:b,mixins:[function(){this.defaultAttrs({extensionSelector:".attachmenttype"});this.onSetExtension=function(a,b){this.select("extensionSelector").text(b)};this.after("initialize",function(){this.on("setExtension",this.onSetExtension)})}]})}(jQuery,defineComponent,Objectivation);
TogglePanel=function(a,d,b){return d({name:"TogglePanel",mixins:[b,function(){this.defaultAttrs({header:".togglepanel_header",toggleVisibilityTriggerElement:".togglepanel_header"});this.initializePseudoClass=function(){this.select("header").pseudoClassify({hover:!0})};this.after("initialize",function(){this.initializePseudoClass()})}]})}(jQuery,defineComponent,mixinToggleVisibility);
TabPanel=function(a,d,b,c){return d({name:"TabPanel",mixins:[function(){this.defaultAttrs({category:".tabpanel_category",firstCategory:".tabpanel_category:first",activeCategory:".tabpanel_category."+b.IS_SELECTED,contentContainer:".tabpanel_content-container",content:".tabpanel_content",visibleContent:".tabpanel_content."+b.IS_VISIBLE});this.tabIndexDataAttribute="tab-index";this.tabRemoteDataAttribute="tab-remote";this.ajaxEventNameSpace="tabpanel";this.showCategoryContentByTabIndex=function(a){a=
this.getCategorySelector(a);this.select("content").filter(a).addClass(b.IS_VISIBLE)};this.getCategorySelector=function(b){return a.isNumeric(b)?"[data-"+this.tabIndexDataAttribute+'\x3d"'+b+'"]':null};this.getAjaxCallCompleteEventName=function(){return c.AJAX_CALL_COMPLETE+"."+this.ajaxEventNameSpace};this.hideVisibleCategoryContent=function(){this.select("visibleContent").removeClass(b.IS_VISIBLE)};this.selectFirstCategory=function(){var a,b;b=this.select("firstCategory");a=this.getTabIndex(b);this.selectLocalCategory(b,
a)};this.selectCategory=function(a,b){this.hasRemoteContent(a)?this.selectRemoteCategory(b):this.selectLocalCategory(a,b)};this.hasRemoteContent=function(a){return a instanceof jQuery?a.data(this.tabRemoteDataAttribute)?!0:!1:!1};this.selectLocalCategory=function(a,c){a.addClass(b.IS_SELECTED);this.showCategoryContentByTabIndex(c)};this.selectRemoteCategory=function(a){var b,c;c=this.getCategorySelector(a);this.on(document,this.getAjaxCallCompleteEventName(),function(){b=this.select("category").filter(c);
this.selectLocalCategory(b,a);this.unregisterAjaxCompleteEvent()})};this.unselectActiveCategory=function(){this.select("activeCategory").removeClass(b.IS_SELECTED);this.hideVisibleCategoryContent()};this.unregisterAjaxCompleteEvent=function(){this.off(document,this.getAjaxCallCompleteEventName())};this.onNavigationItemClick=function(b,c){var d,e;d=a(c.el);e=this.getTabIndex(d);this.unregisterAjaxCompleteEvent();this.unselectActiveCategory();this.selectCategory(d,e);a(document).trigger("resizeHandled")};
this.getTabIndex=function(a){return a.data(this.tabIndexDataAttribute)};this.after("initialize",function(){this.on("click",{category:this.onNavigationItemClick});this.selectFirstCategory()})}]})}(jQuery,defineComponent,CssUtils.modifier,Wicket.Event.Topic);
SmileyPanel=function(a,d){return d({name:"SmileyPanel",mixins:[mixinTrack,function(){this.defaultAttrs({group:".smileypanel_group",item:".smileypanel_item",smiley:".smileypanel_smiley"});this.panelCategoryDataAttribute="category";this.smileyImageFilenameDataAttribute="image-name";this.smileyImagePathDataAttribute="image-path";this.resourceImageClassName="resource-image";this.spriteImageClassName="smiley-sprite";this.onSmileyClick=function(b,c){var d;d=a(c.el).find(this.attr.smiley);if(d=this.getSmileyResource(d))this.trackSmileyWithCategoryLabel(),
this.trigger(document,"smiley.add",{resource:d})};this.trackSmileyWithCategoryLabel=function(){this.track(null,{smileyCategory:this.getCategoryName()})};this.getSmileyResource=function(a){var b;this.isSpriteImage(a)&&(b=this.getSmileyPath()+this.getSmileyFilename(a));this.isResourceImage(a)&&(b=a.attr("src"));return b||null};this.getSmileyFilename=function(a){return a.data(this.smileyImageFilenameDataAttribute)};this.getSmileyPath=function(){return this.$node.data(this.smileyImagePathDataAttribute)};
this.isResourceImage=function(a){return a instanceof jQuery?a.hasClass(this.resourceImageClassName):!1};this.isSpriteImage=function(a){return a instanceof jQuery?a.hasClass(this.spriteImageClassName):!1};this.getCategoryName=function(){return this.$node.data(this.panelCategoryDataAttribute)};this.after("initialize",function(){this.on("click",{item:this.onSmileyClick});this.select("item").pseudoClassify({hover:!0})})}]})}(jQuery,defineComponent);
QuickFilter=function(a,d){return d({name:"QuickFilter",mixins:[function(){this.initializePseudoClass=function(){this.$node.pseudoClassify({hover:!0})};this.after("initialize",function(){this.initializePseudoClass()})}]})}(jQuery,defineComponent);
MailObjectPanelTextfield=function(a,d,b){return d({name:"MailObjectPanelTextfield",mixins:function(){this.defaultAttrs({label:".mailobjectpanel_label",content:".mailobjectpanel_content",textfield:".mailobjectpanel-textfield_input"});this.toggleVisibility=function(){this.isVisible()?this.hide():this.show()};this.isNotVisible=function(){return this.$node.hasClass(b.IS_HIDDEN)};this.isVisible=function(){return!this.isNotVisible()};this.hide=function(){this.$node.addClass(b.IS_HIDDEN)};this.show=function(){this.$node.removeClass(b.IS_HIDDEN)};
this.focusTextfield=function(){this.select("textfield").trigger("focus")};this.onLabelClick=function(){this.focusTextfield()};this.onContentClick=function(){this.focusTextfield()};this.initializePseudoClass=function(){this.$node.pseudoClassify({focus:!0});this.select("label").pseudoClassify({hover:!0})};this.after("initialize",function(){this.on("show",this.show);this.on("hide",this.hide);this.on("toggle",this.toggleVisibility);this.on("click",{content:this.onContentClick,label:this.onLabelClick});
this.initializePseudoClass()})}})}(jQuery,defineComponent,CssUtils.modifier);
MailObjectPanelSubject=function(a,d){return d({name:"MailObjectPanelSubject",parent:MailObjectPanelTextfield,mixins:function(){this.defaultAttrs({defaultText:"Resume E-Mail"});this.getValue=function(){var b=a(this.attr.textfield).val();return 0<b.length?b:this.attr.defaultText};this.triggerActiveDraftSubjectUpdate=function(){var b=this.getValue();a(".panel-composition").trigger("subject.update",{title:b})};this.clearDelay=function(){window.clearTimeout(this.timeout)};this.onInput=function(a){this.clearDelay();
this.timeout=setTimeout(this.triggerActiveDraftSubjectUpdate.bind(this),500)};this.onFocus=function(){this.select("textfield").focus()};this.after("initialize",function(){this.on("keyup",this.onInput);this.on("focus",this.onFocus)})}})}(jQuery,defineComponent);
MailObjectPanelObjectivation=function(a,d,b){return d({name:"MailObjectPanelObjectivation",parent:MailObjectPanelTextfield,mixins:[b,function(){this.defaultAttrs({multiObjectTextField:".form-element-multiobjecttextfield",multiObject:".objectivation-address-write"});this.hasComponentHeightChanged=function(){return this.height!==this.getComponentHeight()};this.checkComponentHeight=function(){this.hasComponentHeightChanged()&&(this.height=this.getComponentHeight(),this.$node.trigger("resize"))};this.focusTextfield=
function(){this.select("multiObjectTextField").trigger("focus")};this.isSelect2Element=function(a){return a.hasClass("select2-input")};this.isObjectivationAddressButtonWriteElement=function(a){return 1===a.closest(this.attr.multiObject).length};this.onContentClick=function(b){b=a(b.target);this.isSelect2Element(b)||this.isObjectivationAddressButtonWriteElement(b)||this.focusTextfield()};this.getComponentHeight=function(){return this.$node.height()};this.addRecipient=function(a){this.select("multiObjectTextField").trigger("add",
a);this.focusTextfield()};this.onAddRecipientFromAddressChooser=function(a,b){this.hasOpenFlyout()&&this.addRecipient(b);a.stopPropagation()};this.onAddRecipient=function(a,b){this.addRecipient(b);a.stopPropagation()};this.onFocus=function(){this.focusTextfield()};this.after("initialize",function(){this.height=this.getComponentHeight();this.on("recipient.add",this.onAddRecipient);this.on("resize.select2",this.checkComponentHeight);this.on("focus",this.onFocus);this.on(document,"addresschooser/recipient/add",
this.onAddRecipientFromAddressChooser)})}]})}(jQuery,defineComponent,mixinFlyout);
(function(a){function d(){k=!1;"function"===typeof r&&r()}function b(a){h=!0;window.clearTimeout(g);a?(l.stop().css("display","none"),d()):l.fadeOut(600,d)}function c(){h||(n=parseInt(l.attr("data-duration"),10)||2500,-1!==n&&(g=window.setTimeout(function(){b(!1)},n)))}function e(c){c=a(c.target);c.hasClass(".js-system-message_close")||0!==c.closest(l).length||l.fadeOut(600,b)}function f(b){var c;c=m.offset();a("html").hasClass("slideshow-visible")?(c.left=a(window).width()/2-l.outerWidth()/2,c.top=
67,l.offset(c)):(b&&(c.left+=(m.width()-l.outerWidth())/2),l.css("left",c.left))}var g,h=!1,k=!1,l,m,r=null,n,w;({init:function(){w=a("body");a(document).on("show.systemMessage.components",this.showSystemMessage)},showSystemMessage:function(d,n,v,A){if(void 0===n)throw"You must pass the dom element or selector for the system message";if(void 0===v)throw"You must pass the dom element or selector for the container";k&&b(!0);h=!1;k=!0;l=a(n);m=a(v);r=A;l.css({display:"none",position:"fixed"});f(!0);
l.find(".js-system-message_close").on("click",b);w.one("click",e);l.fadeIn(1E3,function(){c()}).on("mouseenter",function(){h=!0;window.clearTimeout(g)}).on("mouseleave",function(){b(!1)})}}).init()})(jQuery);
TableHover=function(a,d,b,c,e){d({name:"TableHover",mixins:[b,function(){this.defaultAttrs({delay:0,rowSelector:".table_body-row",rowDataParam:"rowId"});this.timer=0;this.hoverMenu=void 0;this.after("initialize",function(){this.hoverMenu=this.getTemplateContent("hoverMenu");this.initializePseudoClassify();this.bindEvents();this.on("teardown",this.destroy)});this.initializePseudoClassify=function(){this.select("rowSelector").pseudoClassify({hover:!0})};this.bindEvents=function(){var a=this.hoverMenu.find("a").get().map(function(a){return a.id});
c.Event.subscribeFor(c.Event.Topic.AJAX_CALL_BEFORE,a,this.bindHoverWicketEventDelegation,this);this.$node.on("mouseenter",this.attr.rowSelector,this,this.onMouseEnter);this.$node.on("mouseleave",this.attr.rowSelector,this,this.onMouseLeave)};this.removeEvents=function(){this.$node.off("mouseenter",this.attr.rowSelector,this.onMouseEnter);this.$node.off("mouseleave",this.attr.rowSelector,this.onMouseLeave);c.Event.unsubscribe(c.Event.Topic.AJAX_CALL_BEFORE,this.bindHoverWicketEventDelegation,this)};
this.bindHoverWicketEventDelegation=function(b,c){var d=this.attr.rowDataParam,e={},f=this.hoverMenu.parent(this.attr.rowSelector);e[d]=f.data(d);c.dep||(c.dep=[]);c.dep.push(function(){return e});this.trigger("hovermenu-click.table",{$originalTarget:a("#"+c.c),$row:f})};this.onMouseEnter=function(b){var c=b.data,d=c.attr.delay;0<d?c.timer=setTimeout(function(){c.showMenu(b.currentTarget);c.timer=null},d):c.showMenu(b.currentTarget);c.trigger("row-enter.table",a(b.currentTarget))};this.onMouseLeave=
function(b){var c=b.data;b=a(b.currentTarget);c.timer&&(clearTimeout(c.timer),c.timer=null);c.hideMenu();c.trigger("row-leave.table",b)};this.showMenu=function(b){!0!==a(b).data("keepHoverMenu")&&a(b).append(this.hoverMenu.show())};this.hideMenu=function(){this.hoverMenu.detach()};this.destroy=function(){this.removeEvents();this.attr.table=void 0;this.hoverMenu=this.attr.delay=void 0}},function(){this.hasOpenFlyoutClassName=e.HAS_OPEN_FLYOUT;this.defaultAttrs({hoverMenuSelector:".table-hover_menu"});
this.$hoveredRow=void 0;this.flyoutOpen=!1;this.after("initialize",function(){this.on("hovermenu-click.table",this.onHoverMenuFlyoutClick);this.on("row-enter.table",this.onRowEnter);this.on("row-leave.table",this.onRowLeave);a(document).on("close.ftd",this.closeFlyout.bind(this));this.on("teardown",function(){a(document).off("close.ftd",this.closeFlyout);this.flyoutOpen=this.$hoveredRow=void 0})});this.onRowEnter=function(b,c){this.$hoveredRow=a(c)};this.onRowLeave=function(){this.$hoveredRow=void 0};
this.onHoverMenuFlyoutClick=function(a,b){if(b.$originalTarget.is("[data-ftd-trigger]")){var c=this.hoverMenu.clone();this.flyoutOpen=!0;b.$row.addClass(this.hasOpenFlyoutClassName);b.$row.data("keepHover",!0);b.$row.data("keepHoverMenu",!0);this.hideMenu();b.$row.append(c)}};this.closeFlyout=function(){var b,c,d;this.flyoutOpen&&(b=!0,c=this.select("hoverMenuSelector"),1<c.length||!this.$hoveredRow?c.each(function(c,e){d=a(e).parent(this.attr.rowSelector);d.is(this.$hoveredRow)?b=!1:(a(e).remove(),
d.data("keepHover",!1).data("keepHoverMenu",!1).removeClass(this.hasOpenFlyoutClassName))}.bind(this)):(d=c.parent(this.attr.rowSelector),d.data("keepHover",!1).data("keepHoverMenu",!1).removeClass(this.hasOpenFlyoutClassName),this.showMenu(d),a(c).remove()),b&&(this.flyoutOpen=!1))}}]})}(jQuery,defineComponent,mixinTemplate,Wicket,CssUtils.modifier);
(function(a){"undefined"==typeof a.fn.each2&&a.fn.extend({each2:function(d){for(var b=a([0]),c=-1,e=this.length;++c<e&&(b.context=b[0]=this[c])&&!1!==d.call(b[0],c,b););return this}})})(jQuery);
(function(a,d){function b(a,b){var c=0,d=b.length,e;if("undefined"===typeof a)return-1;if(a.constructor===String)for(;c<d;c+=1){if(0===a.localeCompare(b[c]))return c}else for(;c<d;c+=1)if(e=b[c],e.constructor===String){if(0===e.localeCompare(a))return c}else if(e===a)return c;return-1}function c(b,c){var d,e;if(null===b||1>b.length)return[];d=b.split(new RegExp(c.join("|"),"g"));for(e=d.length;e--;)d[e]=a.trim(d[e]);return d}function e(b){b.bind("keydown",function(){void 0===a.data(b,"keyup-change-value")&&
a.data(b,"keyup-change-value",b.val())});b.bind("keyup",function(){var c=a.data(b,"keyup-change-value");void 0!==c&&b.val()!==c&&(a.removeData(b,"keyup-change-value"),b.trigger("keyup-change"))})}function f(a,b){var c;return function(){window.clearTimeout(c);c=window.setTimeout(b,a)}}function g(a){var b=!1,c;return function(){!1===b&&(c=a(),b=!0);return c}}function h(a,c){var d=f(a,function(a){c.trigger("scroll-debounced",a)});c.bind("scroll",function(a){0<=b(a.target,c.get())&&d(a)})}function k(a){a.preventDefault();
a.stopPropagation()}function l(a,b,c){var d=a.toUpperCase().indexOf(b.toUpperCase());b=b.length;0>d?c.push(a):(c.push(a.substring(0,d)),c.push("\x3cspan class\x3d'select2-match'\x3e"),c.push(a.substring(d,d+b)),c.push("\x3c/span\x3e"),c.push(a.substring(d+b,a.length)))}function m(b){var c,d=0,e=null,f=b.quietMillis||100;return function(g){window.clearTimeout(c);c=window.setTimeout(function(){var c=d+=1,f=b.data,q=b.transport||a.ajax,h=b.type||"GET",f=f.call(this,g.term,g.page,g.context);null!==e&&
e.abort();e=q.call(null,{url:b.url,dataType:b.dataType,data:f,type:h,contentType:"application/json; charset\x3dUTF-8",success:function(a){c<d||(a=b.results(a,g.page),g.callback(a))}})},f)}}function r(b){var c=b,d,e=function(a){return""+a.text};a.isArray(c)||(e=c.text,a.isFunction(e)||(d=c.text,e=function(a){return a[d]}),c=c.results);return function(b){var d=b.term,f={};""===d?b.callback({results:c}):(f.results=a(c).filter(function(){return b.matcher(d,e(this))}).get(),b.callback(f))}}function n(b){return a.isFunction(b)?
b:function(c){var d=c.term,e={results:[]};a(b).each(function(){var a=void 0!==this.text,b=a?this.text:this;(""===d||c.matcher(d,b))&&e.results.push(a?this:{id:this,text:this})});c.callback(e)}}function w(b){return a.isFunction(b)?b():b}function p(b,c){var d=function(){};d.prototype=new b;d.prototype.constructor=d;d.prototype.parent=b.prototype;d.prototype=a.extend(d.prototype,c);return d}if(void 0===window.Select2){var t,v,A,x,y;t=phx.util.KEYS;(function(){var a=1;return function(){return a++}})();
a(function(){a(document).on("click",function(b){var c;c=b.target;(c=a(c).closest(".select2-container").data("select2")||a(c).closest(".select2-drop").data("select2")||a(".select2-dropdown-open").data("select2"))&&c.opened()&&c.search.get(0)!==b.target&&(c.close(),c.blur())})});v=p(Object,{bind:function(a){var b=this;return function(){a.apply(b,arguments)}},init:function(b){var c,d,f=this;this.opts=b=this.prepareOpts(b);this.id=b.id;void 0!==b.element.data("select2")&&null!==b.element.data("select2")&&
this.destroy();this.enabled=!0;this.container=this.createContainer();this.body=g(function(){return b.element.closest("body")});void 0!==b.element.attr("class")&&this.container.addClass(b.element.attr("class"));this.container.css(w(b.containerCss));this.container.addClass(w(b.containerCssClass));this.opts.element.data("select2",this).before(this.container);this.container.data("select2",this);this.onDataFinish=function(){0<f.results.find(".select2-result-selectable:not(.select2-disabled)").length&&
0<f.search.val().length&&(f.dropdown.addClass("select2-drop-active"),f.container.addClass("select2-dropdown-open").addClass("select2-container-active"),f.dropdown[0]!==f.body().children().last()[0]&&f.dropdown.detach().appendTo(f.body()),f.dropdown.show(),f.ensureHighlightVisible(),f.positionDropdown())};this.container.on("data-finish",this.onDataFinish);this.dropdown=this.container.find(".select2-drop");this.dropdown.css(w(b.dropdownCss));this.dropdown.addClass(w(b.dropdownCssClass));this.dropdown.data("select2",
this);this.results=c=this.container.find(".select2-results");this.search=d=this.container.find("input.select2-input");this.resultsPage=0;this.context=null;this.initContainer();this.initContainerWidth();this.dropdown.on("mouseover",".select2-results",this.highlightUnderEvent.bind(this));h(80,this.results);this.dropdown.delegate(".select2-results","scroll-debounced",this.bind(this.loadMoreIfNeeded));a.fn.mousewheel&&c.mousewheel(function(a,b,d,e){b=c.scrollTop();0<e&&0>=b-e?(c.scrollTop(0),k(a)):0>
e&&c.get(0).scrollHeight-c.scrollTop()+e<=c.height()&&(c.scrollTop(c.get(0).scrollHeight-c.height()),k(a))});e(d);d.bind("keyup-change",this.bind(this.updateResults));d.bind("focus",function(){d.addClass("select2-focused");" "===d.val()&&d.val("")});d.bind("blur",function(){d.removeClass("select2-focused");this.blur()}.bind(this));this.dropdown.delegate(".select2-results","click",this.bind(function(b){0<a(b.target).closest(".select2-result-selectable:not(.select2-disabled)").length?(a.browser.msie&&
this.search.val(""),this.highlightUnderEvent(b),this.selectHighlighted(b),this.clearSearch()):this.focusSearch()}));this.dropdown.bind("click mouseup mousedown",function(a){a.stopPropagation()});a.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource());b.element.is(":disabled")&&this.disable()},destroy:function(){var a=this.opts.element.data("select2");void 0!==a&&(a.container.remove(),a.dropdown.remove(),a.opts.element.removeData("select2").unbind(".select2").show())},prepareOpts:function(b){var d,
e,f;d=b.element;"select"===d.get(0).tagName.toLowerCase()&&(this.select=e=b.element);b.separator=b.separator||[","];e&&a.each("id multiple ajax query createSearchChoice initSelection data tags".split(" "),function(){if(this in b)throw Error("Option '"+this+"' is not allowed for Select2 when attached to a \x3cselect\x3e element.");});b=a.extend({},{populateResults:function(c,d,e){var f,g=this.opts.id;f=function(c,d,h){var q,B,u,k,l,z,C;q=0;for(B=c.length;q<B;q+=1)u=c[q],k=void 0!==g(u),l="children"in
u&&0<u.children.length,z=a("\x3cli\x3e\x3c/li\x3e"),z.addClass("select2-results-dept-"+h),z.addClass("select2-result"),z.addClass(k?"select2-result-selectable":"select2-result-unselectable"),l&&z.addClass("select2-result-with-children"),k=a("\x3cdiv\x3e\x3c/div\x3e"),k.addClass("select2-result-label"),C=b.formatResult(u,k,e),void 0!==C&&k.append(a.parseHTML(C,k)),z.append(k),l&&(l=a("\x3cul\x3e\x3c/ul\x3e"),l.addClass("select2-result-sub"),f(u.children,l,h+1),z.append(l)),z.data("select2-data",u),
d.append(z)};f(d,c,0)}},a.fn.select2.defaults,b);"function"!==typeof b.id&&(f=b.id,b.id=function(a){return a[f]});e?(b.query=this.bind(function(b){var c={results:[],more:!1},e=b.term,f,g,h;h=function(a,c){var d;a.is("option")?b.matcher(e,a.text(),a)&&c.push({id:a.attr("value"),text:a.text(),element:a.get()}):a.is("optgroup")&&(d={text:a.attr("label"),children:[],element:a.get()},a.children().each2(function(a,b){h(b,d.children)}),0<d.children.length&&c.push(d))};f=d.children();void 0!==this.getPlaceholder()&&
0<f.length&&(g=f[0],""===a(g).text()&&(f=f.not(g)));f.each2(function(a,b){h(b,c.results)});b.callback(c)}),b.id=function(a){return a.id}):"query"in b||("ajax"in b?b.query=m(b.ajax):"data"in b?b.query=r(b.data):"tags"in b&&(b.query=n(b.tags),b.createSearchChoice=function(a){return{id:a,text:a}},b.initSelection=function(d,e){var f=[];a(c(d.val(),b.separator)).each(function(){f.push({id:this,text:this})});e(f)}));if("function"!==typeof b.query)throw"query function not defined for Select2 "+b.element.attr("id");
return b},monitorSource:function(){this.opts.element.bind("change.select2",this.bind(function(a){!0!==this.opts.element.data("select2-change-triggered")&&this.initSelection()}))},triggerChange:function(b){b=b||{};b=a.extend({},b,{type:"change",val:this.val()});this.opts.element.data("select2-change-triggered",!0);this.opts.element.trigger(b);this.opts.element.data("select2-change-triggered",!1)},enable:function(){this.enabled||(this.enabled=!0,this.container.removeClass("select2-container-disabled"))},
disable:function(){this.enabled&&(this.close(),this.enabled=!1,this.container.addClass("select2-container-disabled"))},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var b=this.container.offset(),c=this.search.offset(),d=this.search.outerHeight(),e=this.container.outerWidth(),f=this.dropdown.outerHeight(),g=this.dropdown.outerWidth(),h=a(window).scrollTop()+document.documentElement.clientHeight,k=a(window).scrollLeft()+document.documentElement.clientWidth,
d=c.top+d,l=c.left,h=d+f<=h,m=b.top-f>=this.body().scrollTop(),c=c.left+g<=k;this.dropdown.hasClass("select2-drop-above")?(k=!0,!m&&h&&(k=!1)):(k=!1,!h&&m&&(k=!0));k?(d=b.top-f,this.container.addClass("select2-drop-above"),this.dropdown.addClass("select2-drop-above")):(this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above"));c||(l=b.left+e-g);this.dropdown.css({top:d,left:l,width:e})},shouldOpen:function(){var a;if(this.opened())return!1;a=jQuery.Event("open");
this.opts.element.trigger(a);return!a.isDefaultPrevented()},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above");this.dropdown.removeClass("select2-drop-above")},open:function(){if(!this.shouldOpen())return!1;window.setTimeout(this.bind(this.opening),1);return!0},opening:function(){this.clearDropdownAlignmentPreference();" "===this.search.val()&&this.search.val("");this.updateResults(!0)},close:function(){this.opened()&&(this.clearDropdownAlignmentPreference(),
this.dropdown.hide(),this.container.removeClass("select2-dropdown-open"),this.results.empty())},clearSearch:function(){},ensureHighlightVisible:function(){var b=this.results,c,d,e,f;d=this.highlight();0>d||(0==d?b.scrollTop(0):(c=b.find(".select2-result-selectable"),e=a(c[d]),f=e.offset().top+e.outerHeight(),d===c.length-1&&(c=b.find("li.select2-more-results"),0<c.length&&(f=c.offset().top+c.outerHeight())),c=b.offset().top+b.outerHeight(),f>c&&b.scrollTop(b.scrollTop()+(f-c)),e=e.offset().top-b.offset().top,
0>e&&b.scrollTop(b.scrollTop()+e)))},moveHighlight:function(b){for(var c=this.results.find(".select2-result-selectable"),d=this.highlight();-1<d&&d<c.length;){var d=d+b,e=a(c[d]);if(e.hasClass("select2-result-selectable")&&!e.hasClass("select2-disabled")){this.highlight(d);break}}},highlight:function(c){var d=this.results.find(".select2-result-selectable");if(0===arguments.length)return b(d.filter(".select2-highlighted")[0],d.get());c>=d.length&&(c=d.length-1);0>c&&(c=0);d.removeClass("select2-highlighted");
a(d[c]).addClass("select2-highlighted");this.ensureHighlightVisible()},countSelectableResults:function(){return this.results.find(".select2-result-selectable").not(".select2-disabled").length},highlightUnderEvent:function(b){b=a(b.target).closest(".select2-result-selectable");this.results.find(".select2-highlighted").not(b).removeClass("select2-highlighted");b.addClass("select2-highlighted")},loadMoreIfNeeded:function(){var a=this.results,b=a.find("li.select2-more-results"),c=this.resultsPage+1,d=
this,e=this.search.val(),f=this.context;0!==b.length&&0>=b.offset().top-a.offset().top-a.height()&&(b.addClass("select2-active"),this.opts.query({term:e,page:c,context:f,matcher:this.opts.matcher,callback:this.bind(function(g){d.opts.populateResults.call(this,a,g.results,{term:e,page:c,context:f});!0===g.more?(b.detach().appendTo(a.children(":last")).text(d.opts.formatLoadMore(c+1)),window.setTimeout(function(){d.loadMoreIfNeeded()},10)):b.remove();d.positionDropdown();d.resultsPage=c})}))},updateResults:function(b){function c(){g.scrollTop(0);
e.removeClass("select2-active");q.positionDropdown()}function d(a){g.html(a);c()}var e=this.search,f=e.val(),g=this.results,h=this.opts,q=this;if(!0===b||!1!==this.showSearchInput&&this.opened())e.addClass("select2-active"),f.length<h.minimumInputLength?a.isFunction(h.formatInputTooShort)?d("\x3cli class\x3d'select2-no-results'\x3e"+h.formatInputTooShort(f,h.minimumInputLength)+"\x3c/li\x3e"):(d(""),this.opened()&&this.dropdown.hide()):(this.resultsPage=1,h.query({term:f,page:this.resultsPage,context:null,
matcher:h.matcher,callback:this.bind(function(e){var k;this.context=void 0===e.context?null:e.context;this.opts.createSearchChoice&&""!==f&&(k=this.opts.createSearchChoice.call(null,f,e.results),void 0!==k&&null!==k&&void 0!==q.id(k)&&null!==q.id(k)&&0===a(e.results).filter(function(){var a=q.id(this),b=q.id(k);return a===b?!0:void 0===a||void 0===b||null===a||null===b?!1:a.constructor===String?0===a.localeCompare(b):b.constructor===String?0===b.localeCompare(a):!1}).length&&e.results.unshift(k));
0===e.results.length?a.isFunction(h.formatNoMatches)?d("\x3cli class\x3d'select2-no-results'\x3e"+h.formatNoMatches(f)+"\x3c/li\x3e"):(d(""),this.opened()&&(this.container.removeClass("select2-dropdown-open"),this.dropdown.hide())):(g.empty(),q.opts.populateResults.call(this,g,e.results,{term:f,page:this.resultsPage,context:null}),!0===e.more&&(g.children().filter(":last").append("\x3cli class\x3d'select2-more-results'\x3e"+h.formatLoadMore(this.resultsPage)+"\x3c/li\x3e"),window.setTimeout(function(){q.loadMoreIfNeeded()},
10)),this.postprocessResults(e,b),this.container.trigger("data-finish"),c())})}))},cancel:function(){this.close()},blur:function(){this.close();this.container.removeClass("select2-container-active");this.dropdown.removeClass("select2-drop-active");this.clearSearch();this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus").children().trigger("unselect")},focusSearch:function(){window.setTimeout(this.bind(function(){var a=this.container.parent();a.scrollTop(a[0].scrollHeight-
a.height());this.search.focus();this.search.parent().siblings(".select2-search-choice-focus").removeClass("select2-search-choice-focus").children().trigger("unselect")}),10)},selectHighlighted:function(){var a=this.highlight(),b=this.results.find(".select2-highlighted").not(".select2-disabled"),c=b.closest(".select2-result-selectable").data("select2-data");c&&(b.addClass("select2-disabled"),this.highlight(a),this.clearSearch(),this.focusSearch(),this.onSelect(c))},getPlaceholder:function(){return this.opts.element.attr("placeholder")||
this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder},initContainerWidth:function(){var b=function(){var b,c,d,e;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth()?"auto":this.opts.element.outerWidth()+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){b=this.opts.element.attr("style");if(void 0!==b)for(b=b.split(";"),d=0,e=b.length;d<e;d+=1)if(c=b[d].replace(/\s/g,"").match(/width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/),
null!==c&&1<=c.length)return c[1];return"resolve"===this.opts.width?(b=this.opts.element.css("width"),0<b.indexOf("%")?b:0===this.opts.element.outerWidth()?"auto":this.opts.element.outerWidth()+"px"):null}return a.isFunction(this.opts.width)?this.opts.width():this.opts.width}.call(this);null!==b&&this.container.attr("style","width: "+b)}});A=p(v,{});x=p(v,{createContainer:function(){return a("\x3cdiv\x3e\x3c/div\x3e",{"class":"select2-container select2-container-multi"}).html("    \x3cul class\x3d'select2-choices'\x3e  \x3cli class\x3d'select2-search-field'\x3e    \x3cinput type\x3d'text' autocomplete\x3d'off' style\x3d'width: 25px;' class\x3d'select2-input'\x3e  \x3c/li\x3e\x3c/ul\x3e\x3cdiv class\x3d'select2-drop select2-drop-multi' style\x3d'display:none;'\x3e   \x3cul class\x3d'select2-results'\x3e   \x3c/ul\x3e\x3c/div\x3e")},
prepareOpts:function(){var b=this.parent.prepareOpts.apply(this,arguments);"select"===b.element.get(0).tagName.toLowerCase()&&(b.initSelection=function(b,c){var d=[];b.find(":selected").each2(function(a,b){d.push({id:b.attr("value"),text:b.text()})});a.isFunction(c)&&c(d)});return b},paste:function(b){phx.util.nextTick(this.bind(function(){var b,d,e,f;b=this.search.val();b=b.replace(/(\n|\r)/g,",").replace(/\t/g,"");b=c(b,this.opts.separator);e=0;for(f=b.length;e<f;e++)if(d=a.trim(b[e]),0<d.length)this.onSelect({text:d,
id:d,toQueue:e!=f-1});this.clearSearch()}))},initContainer:function(){var b,c=this;this.searchContainer=this.container.find(".select2-search-field");this.selection=b=this.container.find(".select2-choices");this.search.on("paste",this.bind(this.paste));this.search.bind("keydown",this.bind(function(b){if(this.enabled){if(this.opened())switch(b.which){case t.UP:case t.DOWN:this.moveHighlight(b.which===t.UP?-1:1);k(b);return}b.which===t.ENTER&&k(b);if(b.which===t.TAB){if(0===a.trim(this.search.val()).length)if(this.searchContainer.hasClass("edit-mode")&&
0<this.searchContainer.next().length)this.removeEditMode(),this.abortEdit(),this.focusSearch();else return;k(b)}b.which===t.ESC?(this.searchContainer.hasClass("edit-mode")&&this.abortEdit(),this.cancel(b),k(b)):b.which===t.TAB||t.isControl(b)||t.isFunctionKey(b)||b.which===t.ESC||b.which!==t.PAGE_UP&&b.which!==t.PAGE_DOWN||k(b)}}));this.search.bind("keyup",this.bind(function(d){if(d.which!==t.BACKSPACE||""!==this.search.val()||this.searchContainer.hasClass("edit-mode"))b.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus").children().trigger("unselect");
else{this.close();var e;e=b.find(".select2-search-choice-focus");if(0<e.length){this.unselect(e.first());this.search.width(10);this.resizeSearch();k(d);return}e=b.find(".select2-search-choice");if(0<e.length){e.last().addClass("select2-search-choice-focus").children().trigger("select");k(d);return}}if(d.which===t.ENTER||d.which===t.TAB||!0===this.isSeparator())if(k(d),this.opened())this.selectHighlighted();else{if(d=a.trim(this.search.val()),this.clearSearch(),this.focusSearch(),0<d.length)this.onSelect({id:d,
text:d})}else c.open(),c.resizeSearch()}));this.container.delegate(".select2-choices","focus",this.bind(function(){this.enabled&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())}));this.clearSearch()},isSeparator:function(){var a=this.opts.separator,b=this.search.val(),c=b.substr(b.length-1,1);return-1!==a.indexOf(c)?(this.search.val(b.substring(0,b.length-1)),!0):!1},enable:function(){this.enabled||(this.parent.enable.apply(this,
arguments),this.search.show())},disable:function(){this.enabled&&(this.parent.disable.apply(this,arguments),this.search.hide())},blur:function(){if(this.opened())return!1;var b=a.trim(this.search.val());if(0<b.length)this.onSelect({id:b,text:b});this.parent.blur.apply(this,arguments)},initSelection:function(){""===this.opts.element.val()&&(this.updateSelection([]),this.close(),this.clearSearch());if(this.select||""!==this.opts.element.val()){var a=this;this.opts.initSelection.call(null,this.opts.element,
function(b){void 0!==b&&null!==b&&(a.updateSelection(b),a.close(),a.clearSearch())})}},clearSearch:function(){var a=this.getPlaceholder();void 0!==a&&0===this.getVal().length&&!1===this.search.hasClass("select2-focused")?this.search.val(a).addClass("select2-default"):this.search.val("").width(10);this.resizeSearch()},clearPlaceholder:function(){this.search.hasClass("select2-default")?this.search.val("").removeClass("select2-default"):" "===this.search.val()&&this.search.val("")},opening:function(){this.parent.opening.apply(this,
arguments);this.clearPlaceholder();this.resizeSearch()},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close();this.resizeSearch();this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(c){var d=[],e=[],f=this;a(c).each(function(){0>b(f.id(this),d)&&(d.push(f.id(this)),e.push(this))});c=e;this.selection.find(".select2-search-choice").remove();this.opts.element.val("");a(c).each(function(){f.addSelectedChoice(this)});
f.postprocessResults()},onSelect:function(a){this.addSelectedChoice(a);this.select&&this.postprocessResults();this.opts.closeOnSelect?this.close():0<this.countSelectableResults()?this.positionDropdown():this.close();setTimeout(this.bind(function(){this.resizeSearch()}),10);this.triggerChange({added:a});this.searchContainer.hasClass("edit-mode")&&this.searchContainer.removeClass("edit-mode").data("oldData",null).appendTo(this.selection)},cancel:function(){this.close()},addSelectedChoice:function(b){var c=
a("\x3cli class\x3d'select2-search-choice'\x3e\x3c/li\x3e"),d=this.id(b),e=this.getVal(),f=a(this.opts.formatSelection(b,c));void 0!==f&&c.append(f);f.on("deleteObject",this.bind(function(b){var d=this;this.enabled&&(c.off(),a(b.target).closest(".select2-search-choice").hide(0,function(){a(b.target)&&(d.unselect(a(b.target)),d.close(),d.search.width(10),d.resizeSearch(),d.focusSearch())}).dequeue(),b.preventDefault(),phx.ftd.close())})).bind("focus",this.bind(function(){this.enabled&&(this.container.addClass("select2-container-active"),
this.dropdown.addClass("select2-drop-active"))}));if(!0===this.opts.edit)c.on("click dblclick",this.bind(function(a){"dblclick"===a.type?(this.searchContainer.hasClass("edit-mode")&&this.abortEdit(),this.edit(c)):(f.trigger("select"),c.addClass("select2-search-choice-focus"))}));c.data("select2-data",b);this.search.width(0);c.insertBefore(this.searchContainer);ObjectivationAddressButtonWrite.attachTo(f);e.push(d);this.setVal(e)},edit:function(b){var c=b.data("select2Data"),d=this.opts.formatEdit(c),
e=b.prev();phx.ftd.close();this.searchContainer.addClass("edit-mode").data("oldData",c);this.unselect(b);0==e.length?this.selection.prepend(this.searchContainer):e.after(this.searchContainer);this.search.val(d);this.resizeSearch();phx.util.setCaretPosition(this.search[0],d.length);a(this.container).trigger("resize.select2")},abortEdit:function(){var a=this.searchContainer.data("oldData");a&&this.addSelectedChoice(a);this.searchContainer.appendTo(this.selection);this.clearSearch();this.removeEditMode()},
removeEditMode:function(){this.searchContainer.removeData("oldData");this.searchContainer.removeClass("edit-mode");a(this.container).trigger("resize.select2")},unselect:function(a){var c=this.getVal(),d,e;a=a.closest(".select2-search-choice");if(0===a.length)throw"Invalid argument: "+a+". Must be .select2-search-choice";d=a.data("select2-data");e=b(this.id(d),c);0<=e&&(c.splice(e,1),this.setVal(c),this.select&&this.postprocessResults());a.find(".objectivation").trigger("teardown");a.remove();this.triggerChange({removed:d})},
postprocessResults:function(){var a=this.getVal(),c=this.results.find(".select2-result-selectable"),d=this;c.each2(function(c,e){var f=d.id(e.data("select2-data"));0<=b(f,a)?e.addClass("select2-disabled"):e.removeClass("select2-disabled")});c.each2(function(a,b){if(!b.hasClass("select2-disabled"))return d.highlight(a),!1})},resizeSearch:function(){this.search.width(0);var b;b=this.search;if(!y){var c=b[0].currentStyle||window.getComputedStyle(b[0],null);y=a("\x3cdiv\x3e\x3c/div\x3e").css({position:"absolute",
left:"-10000px",top:"-10000px",display:"none",fontSize:c.fontSize,fontFamily:c.fontFamily,fontStyle:c.fontStyle,fontWeight:c.fontWeight,letterSpacing:c.letterSpacing,textTransform:c.textTransform,whiteSpace:"nowrap"});a("body").append(y)}y.text(b.val());b=y.width();var c=this.selection.width(),d=this.selection.offset(),e=this.selection.find(".select2-search-choice").last(),f=this.searchContainer.hasClass("edit-mode"),g;0!==e.length&&(g=f?b+20:c-(e.offset().left-d.left+e.outerWidth()));if(!g||g<b||
0>g-10)g=c;this.search.width(g-10);a(this.container).trigger("resize.select2")},getVal:function(){var a;if(this.select)return a=this.select.val(),null===a?[]:a;a=this.opts.element.val();return c(a,["~`~"])},setVal:function(b){this.select?this.select.val(b):(b=a.isArray(b)&&0<b.length?b.join("~`~"):b||"",this.opts.element.val(b))},val:function(){var b,c=[],d=this;if(0===arguments.length)return this.getVal();b=arguments[0];this.select?(this.setVal(b),this.select.find(":selected").each(function(){c.push({id:a(this).attr("value"),
text:a(this).text()})}),this.updateSelection(c)):(b=null===b?[]:b,a(b).each(function(){c.push(d.id(this))}),this.setVal(c),this.updateSelection(b));this.clearSearch()},onSortStart:function(){if(this.select)throw Error("Sorting of elements is not supported when attached to \x3cselect\x3e. Attach to \x3cinput type\x3d'hidden'/\x3e instead.");this.search.width(0);this.searchContainer.hide()},onSortEnd:function(){var b=[],c=this;this.searchContainer.show();this.searchContainer.appendTo(this.searchContainer.parent());
this.resizeSearch();this.selection.find(".select2-search-choice").each(function(){b.push(c.opts.id(a(this).data("select2-data")))});this.setVal(b);this.triggerChange()},data:function(b){var c=this,d;if(0===arguments.length)return this.selection.find(".select2-search-choice").map(function(){return a(this).data("select2-data")}).get();d=a.map(b,function(a){return c.opts.id(a)});this.setVal(d);this.updateSelection(b);this.clearSearch()},removeData:function(b){var c=this;this.selection.children().each(function(d,
e){a(e).data("select2Data")==b&&c.unselect(a(e))})},addData:function(a){this.onSelect(a)}});a.fn.select2=function(){var c=Array.prototype.slice.call(arguments,0),d,e,f,g,h="val destroy open close focus isFocused container onSortStart onSortEnd enable disable positionDropdown data removeData addData edit resizeSearch".split(" ");this.each(function(){if(0===c.length||"object"===typeof c[0])d=0===c.length?{}:a.extend({},c[0]),d.element=a(this),"select"===d.element.get(0).tagName.toLowerCase()?g=d.element.attr("multiple"):
(g=d.multiple||!1,"tags"in d&&(d.multiple=g=!0)),e=g?new x:new A,e.init(d);else if("string"===typeof c[0]){if(0>b(c[0],h))throw"Unknown method: "+c[0];f=void 0;e=a(this).data("select2");if(void 0!==e&&(f="container"===c[0]?e.container:e[c[0]].apply(e,c.slice(1)),void 0!==f))return!1}else throw"Invalid arguments to select2 plugin: "+c;});return void 0===f?this:f};a.fn.select2.defaults={width:"copy",closeOnSelect:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(a,
b,c){b=[];l(a.text,c.term,b);return b.join("")},formatSelection:function(a,b){return a.text},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(a,b){return"Please enter "+(b-a.length)+" more characters"},formatLoadMore:function(a){return"Loading more results..."},minimumResultsForSearch:0,minimumInputLength:0,id:function(a){return a.id},matcher:function(a,b){return 0<=b.toUpperCase().indexOf(a.toUpperCase())}};window.Select2={query:{ajax:m,local:r,tags:n},util:{debounce:f,
markMatch:l},"class":{"abstract":v,single:A,multi:x}}}})(jQuery);
MultiObjectTextField=function(a,d,b,c,e){return d({name:"MultiObjectTextField",mixins:[c,function(){this.initialized=!1;this.defaultAttrs({objectValidationUrl:"",objects:null,select2InitInput:"input.js-select2",objectivationElements:".select2-choices .select2-search-choice .objectivation",inputSearchField:".select2-input"});this.queue=[];this.setText=function(a,b,c){b.find(".objectivation_name").attr("title",c.id).text(c.personalPart||c.id);!1===c.isValid&&b.addClass("is-invalid");a.data("select2-data",
c)};this.formatSelection=function(b,c){var d=a(this.formatSelectionTemplate);this.addObjectivationBehavior(c,d,b);this.initializeObjectQueue(b,c,d);d.closest(".text-wrapper").scrollTop(1E4);return d};this.addObjectivationBehavior=function(a,b,c){this.setText(a,b,c)};this.updateObjectivationBehavior=function(a,b,c){this.setText(a,b,c)};this.checkDataForQueueRequest=function(a){return void 0===a.isValid};this.initializeObjectQueue=function(a,b,c){this.checkDataForQueueRequest(a)&&(this.queueObjectForRequest(b,
c,a.id),a.toQueue||this.requestObjectInformation())};this.queueObjectForRequest=function(a,b,c){this.queue.push({select2EntryObject:a,objectivationElement:b,id:c})};this.requestObjectInformation=function(){a.ajax({type:"POST",url:this.attr.objectValidationUrl,data:this.getJsonPostData(),success:this.updateObjectivationElementWithNewData.bind(this),dataType:"json"})};this.getJsonPostData=function(){return{idList:JSON.stringify(this.getObjectIdList())}};this.getObjectIdList=function(){var b={};a.each(this.queue,
function(a,c){b[c.id]=this.getIdObjectData(c)}.bind(this));return b};this.getIdObjectData=function(a){return{}};this.updateObjectivationElementWithNewData=function(a){var b,c,d;c=0;for(d=a.length;c<d;c++)b=this.grepObjectAndRemoveFromQueue(a[c]),null!==b?this.updateObjectivationBehavior(b.select2EntryObject,b.objectivationElement,a[c]):e.Log.error("The object with the id "+a[c].id+" doesn't exist in the MultiObjectTextField queue");this.resize()};this.grepObjectAndRemoveFromQueue=function(a){var b,
c,d,e=this.queue;c=0;for(d=e.length;c<d;c++)if(e[c].id===a.id){b=c;break}return void 0!==b?e.splice(b,1)[0]:null};this.formatResult=function(a,b,c){b=new RegExp("(\x26|\x26l|\x26g)?("+c.term+")","gi");return a.text.replace("\x3c","\x26lt;").replace("\x3e","\x26gt;").replace(b,function(a){return"\x26lt"===a||"\x26gt"===a||"\x26g"===a||"\x26l"===a?a:'\x3cspan class\x3d"select2-match"\x3e'+a+"\x3c/span\x3e"})};this.formatEdit=function(a){return a.id};this.formatSelectionTemplate=a();this.onFocus=function(a){this.select("select2InitInput").select2("focus");
a.stopPropagation()};this.unselectObjectivationElements=function(b,c){var d=a(c.el);this.select("objectivationElements").not(d).trigger("unselect")};this.add=function(a,b){var c=this.select("select2InitInput");-1===c.select2("val").indexOf(b.address)&&c.select2("addData",{id:b.address,personalPart:0<b.name.length?b.name:b.address,email:b.email})};this.resize=function(){this.select("select2InitInput").select2("resizeSearch")};this.initPredefinedValues=function(){var b=this.attr.objects;a.isArray(b)&&
(this.convertObjectsToSelect2Data(b),this.select("select2InitInput").select2("data",b),this.resize())};this.convertObjectsToSelect2Data=function(a){var b,c,d;b=0;for(c=a.length;b<c;b++)d=a[b],"string"===typeof d&&(a[b]={id:d})};this.getSelect2ObjectFromObjectivationElement=function(b){return a(b).parent()};this.deleteSelectedObjectivations=function(a,b){b.select2("removeData",a);b.select2("focus")};this.getSelectedObjectivationElements=function(){return this.select("objectivationElements").filter(".is-selected")};
this.onDocumentKeyUp=function(c){var d=this.getSelectedObjectivationElements(),e,f;0<d.length&&(f=this.select("select2InitInput"),e=this.getSelect2ObjectFromObjectivationElement(d),0<d.length&&(c.which===b.KEYS.ENTER?(f.select2("edit",e),c.preventDefault()):c.which!==b.KEYS.BACKSPACE&&c.which!==b.KEYS.DELETE||e.each(function(b,c){this.deleteSelectedObjectivations(a(c).data("select2Data"),f)}.bind(this))))};this.initializeComponent=function(){this.formatSelectionTemplate=this.getTemplateContentAsHtmlString("addressWrite");
this.on("focus",this.onFocus);this.on("add",this.add);this.on("click",{inputSearchField:this.unselectObjectivationElements});this.on("select",{objectivationElements:this.unselectObjectivationElements});this.on("multiobjecttextfield.resize",this.resize);this.on(document,"keyup",this.onDocumentKeyUp);b.nextTick(function(){var a=this.select("select2InitInput").data("select2").opts;a.formatSelection=this.formatSelection.bind(this);a.formatResult=this.formatResult.bind(this);a.formatEdit=this.formatEdit.bind(this);
this.initPredefinedValues();this.initialized=!0},this)};this.after("initialize",function(){this.initializeComponent()})}]})}(jQuery,defineComponent,phx.util,mixinTemplate,Wicket);
AddressChooser=function(a,d,b,c){return a({name:"AddressChooser",mixins:[d,mixinKeypress,function(){this.defaultAttrs({textfield:".form-composite-addresschooser_textfield",icon:".form-composite-addresschooser_icon"});this.addRecipient=function(a,b){var c;this.hasOpenFlyout()&&(c=this.select("textfield"),c.val(b.email||b.name),c.focus(),this.trigger("addresschooser/close"),this.triggerSetValue(a,b))};this.setAlignmentBottomRight=function(){var a,b;b=this.select("icon");a=b.width();b.attr("data-ftd-offset",
a)};this.getFlyoutPosition=function(){return this.select("icon").data("ftd-position")||null};this.positionAlignment=function(){"bottom-right"===this.getFlyoutPosition()&&this.setAlignmentBottomRight()};this.triggerSetValue=function(){var a={email:this.select("textfield").val()};this.trigger("addresschooser/set/value",a)};this.initializeKeyBindings=function(){this.addKey(c.ENTER,this.triggerSetValue,{preventInputKeys:!1});this.startKeyListener()};this.initializeEventBindings=function(){this.on(document,
"addresschooser/recipient/add",this.addRecipient);this.on(document,"addresschooser/open",this.stopKeyListener);this.on(document,"addresschooser/close",this.startKeyListener);this.on("focusout",this.triggerSetValue)};this.initializePseudoClass=function(){this.$node.pseudoClassify({hover:!0})};this.after("initialize",function(){this.initializePseudoClass();this.positionAlignment();this.initializeEventBindings();this.initializeKeyBindings()})}]})}(defineComponent,mixinFlyout,mixinKeypress,phx.util.KEYS);
MailInfoLayer=function(a,d,b){return d({name:"MailInfoLayer",mixins:[function(){this.defaultAttrs({eventName:null});this.onFireChangeVisibility=function(a,b){if(void 0===b)throw Error("A boolean value which shows/hides must be send with the event");this.setVisibility(b)};this.setVisibility=function(a){!0===a?this.$node.removeClass(b.IS_HIDDEN):this.$node.addClass(b.IS_HIDDEN);this.fireResizeHandler()};this.fireResizeHandler=function(){a(document).trigger("resizeHandled")};this.after("initialize",
function(){this.on(document,this.attr.eventName,this.onFireChangeVisibility)})}]})}(jQuery,defineComponent,CssUtils.modifier);HelpIconLink=function(a){return a({name:"HelpIconLink",mixins:[function(){this.after("initialize",function(){this.$node.pseudoClassify({hover:!0})})}]})}(defineComponent);HelpTextLink=function(a,d){return a({name:"HelpTextLink",parent:d,mixins:[function(){}]})}(defineComponent,IconLink);
ContactLink=function(a,d){return d({name:"ContactLink",mixins:[function(){this.defaultAttrs({toAddress:"",toName:""});this.addAddressToRecipient=function(a){a.preventDefault();this.trigger(document,"contact.item.clicked",{address:this.attr.toAddress,name:this.attr.toName})};this.after("initialize",function(){this.on("click",function(a){this.addAddressToRecipient(a)})})}]})}(jQuery,defineComponent);
Toolbar=function(a,d,b){return d({name:"Toolbar",mixins:[mixinKeypress,function(){this.onCursorUpKeyPress=function(a){this.triggerToolbarButton("#toolbarButtonPrev")};this.onCursorDownKeyPress=function(a){this.triggerToolbarButton("#toolbarButtonNext")};this.onDelKeyPress=function(a){this.triggerToolbarButton("#toolbarButtonDelete")};this.onSKeyPress=function(a){this.triggerToolbarButton("#toolbarButtonSpam")};this.onAKeyPress=function(a){this.triggerToolbarButton("#toolbarButtonReply")};this.triggerToolbarButton=
function(a){a=this.$node.find(a);a.prop("disabled")||a.trigger("click")};this.initializeListenerController=function(){this.on(document,"close.ftd",this.startKeyListener);this.on(document,"closeLayer",this.startKeyListener);this.on(document,"open.ftd",this.stopKeyListener);this.on(document,"openLayer",this.stopKeyListener)};this.initializeKeyBindings=function(){this.addKey(b.DELETE,this.onDelKeyPress);this.addKey(b.S,this.onSKeyPress);this.addKey(b.A,this.onAKeyPress);this.addKey(b.RIGHT,this.onCursorDownKeyPress,
{preventIFrameKeys:!0});this.addKey(b.LEFT,this.onCursorUpKeyPress,{preventIFrameKeys:!0});this.addKey(b.DOWN,this.onCursorDownKeyPress,{preventIFrameKeys:!0});this.addKey(b.UP,this.onCursorUpKeyPress,{preventIFrameKeys:!0});this.startKeyListener()};this.after("initialize",function(){this.initializeKeyBindings();this.initializeListenerController()})}]})}(jQuery,defineComponent,phx.util.KEYS);
CustomFilter=function(a,d){return d({name:"CustomFilter",mixins:[function(){this.defaultAttrs({listContainer:".customfilter_case-list",scrollMode:!1});this.scrollListContainerToEndPosition=function(){setTimeout(function(){this.select("listContainer").scrollTop(1E4)}.bind(this),0)};this.hasScrollMode=function(){return this.attr.scrollMode};this.after("initialize",function(){this.hasScrollMode()&&this.scrollListContainerToEndPosition()})}]})}(jQuery,defineComponent);
PgpEmptyPreviewTeaser=function(a,d,b){return d({name:"PgpEmptyPreviewTeaser",mixins:[b,function(){this.onShowTeaser=function(){this.track()};this.after("initialize",function(){this.onShowTeaser();this.on("pgp-empty-preview-teaser/show",this.onShowTeaser)})}]})}(jQuery,defineComponent,mixinTrack);
PgpDownloadExtensionButton=function(a,d,b,c){return d({name:"PgpDownloadExtensionButton",parent:b,mixins:[function(){this.defaultAttrs({mailvelopeOutdated:!1});this.sourceWindow=null;this.hasActiveEventRegister=!1;this.closeSourceWindow=function(){this.sourceWindow&&(this.sourceWindow.close(),this.sourceWindow=null)};this.onMailvelopeInstall=function(){this.unregisterEvents();this.closeSourceWindow();this.attr.mailvelopeOutdated||phx.pgp.reinitialize().then(function(a){c.message("installed",{version:a.version,
hasKeyPair:a.hasKeyPair})})};this.registerEvents=function(){this.on(window,"mailvelope",this.onMailvelopeInstall);this.on(window,"mailvelope-disconnect",this.onMailvelopeInstall);this.hasActiveEventRegister=!0};this.unregisterEvents=function(){this.off(window,"mailvelope",this.onMailvelopeInstall);this.off(window,"mailvelope-disconnect",this.onMailvelopeInstall);this.hasActiveEventRegister=!1};this.onButtonClick=function(){this.hasActiveEventRegister||this.registerEvents()};this.after("initialize",
function(){this.on("click",this.onButtonClick)})}]})}(jQuery,defineComponent,Button,phx.util.post);
PgpExternalDownloadExtensionButton=function(a,d,b){return d({name:"PgpExternalDownloadExtensionButton",parent:b,mixins:[function(){this.onPostMessage=function(a){var b;"https://www.mailvelope.com"===a.originalEvent.origin&&(b=a.originalEvent.data,"started"===b&&(this.sourceWindow=a.originalEvent.source),"success"===b||"failure_"===b.slice(0,8))&&(this.sourceWindow=a.originalEvent.source,this.closeSourceWindow())};this.after("registerEvents",function(){this.on(window,"message",this.onPostMessage)});
this.after("unregisterEvents",function(){this.off(window,"message",this.onPostMessage)})}]})}(jQuery,defineComponent,PgpDownloadExtensionButton);
PgpExtensionNotificationDownloadButton=function(a,d,b,c){return d({name:"PgpExtensionNotificationDownloadButton",parent:b,mixins:[c,function(){this.defaultAttrs({button:".extension-notification-download-button_trigger",blocker:".extension-notification-download-button_container"});this.notificationElement=null;this.createNotificationElement=function(){var b;b=this.getTemplateContentAsHtmlString("extensionNotificationName");b=a(b);this.on(b,"click",{blocker:this.onBlockerClick});return b};this.after("onButtonClick",
function(){this.showNotificationElement()});this.onBlockerClick=function(){this.hideNotificationElement()};this.hideNotificationElement=function(){this.notificationElement.detach()};this.showNotificationElement=function(){this.getBody().append(this.notificationElement)};this.getBody=function(){return a("body")};this.after("initialize",function(){this.notificationElement=this.createNotificationElement();this.on("click",this.onButtonClick);this.on(window,"mailvelope",this.hideNotificationElement)})}]})}(jQuery,
defineComponent,PgpDownloadExtensionButton,mixinTemplate);(function(a){phx.toggleButtonState=function(d,b){var c,e;"string"===typeof d?(e=d,d=a("#"+d),c=a("#"+e+"MenuTrigger"),0<c.length&&phx.toggleButtonState(e+"MenuTrigger",b)):d=a(d);c=d.is("input, button");"boolean"!==typeof b&&(b=c?!d.prop("disabled"):"true"!==d.attr("data-disabled"));c?d.prop("disabled",b):d.attr("data-disabled",b);d.closest("li")[b?"addClass":"removeClass"]("inactive");return!b}})(jQuery);
(function(a){phx.isToggleControlMinimized=function(a){if(a)return!a.closest(".gui-toggle").hasClass("minimized")}})(jQuery);(function(a){phx.util.userAgent.is("ff","webkit")&&phx.event.subscribe(phx.events.EDITOR_LOADED,function(d){window.setTimeout(function(){d&&"html"===d.mode&&0===a("#cke_editor iframe").length&&(a("#blocker").hide(),phx.editor.getInstance=function(){var b=function(){return!1};return{checkDirty:b,isDirty:b,resetDirty:a.noop}},a("#editorStartupFailedLink").trigger("click"))},1E3)})})(jQuery);
(function(){phx.event.publish("domchange",{})})();